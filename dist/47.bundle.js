(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"82eg":function(t,e,i){"use strict";i.r(e);var s=i("L2JU"),a=i("qjwK"),n=i("T/cf"),o=i("RNqi"),r=i("6IJF"),p=i.n(r),l=i("zugy"),c=i.n(l),d=i("bUKF"),u=i.n(d),g=(i("IfgB"),i("Gbp+"),i("eOAV")),h=i.n(g),f=i("F+MN"),v=i("EY8S"),m=i("psvp"),x=i("O1cq"),b=i.n(x),_=i("bcyO"),y=i("IeaP");const w={HUMAN:"human",JSON:"json",RICARDIAN:"ricardian"};var C={props:["popup","expanded","pinning"],components:{PopOutApp:y.a,ReputationScore:n.a,RequiredFields:m.a,SearchBar:o.a},data:()=>({Blockchains:f.Blockchains,whitelisted:!1,whitelists:[],actionList:[],viewType:w.HUMAN,VIEW_TYPES:w,selectedIdentity:null,selectedLocation:null,clonedLocation:null,hideCloseButton:!1,reputation:null,showingRidlWarning:!1,participantsAsSelector:!1,loadingReputation:!1}),created(){this.selectedIdentity=this.identity.clone(),this.selectedLocation=this.selectedIdentity.getLocation()||this.locations[0],this.clonedLocation=this.selectedLocation.clone(),setTimeout(async()=>{this.loadingReputation=!0,this.reputation=await _.b.checkContracts(this.payload.network,this.messages),this.reputation&&this.reputation.decimal<0&&(this.showingRidlWarning=!0),this.loadingReputation=!1},50)},computed:{...Object(s.d)(["scatter"]),...Object(s.c)(["identity","identities","accounts","networks","locations"]),appData(){return this.popup.data.props.appData},viewTypesArray(){const t=!this.isArbitrarySignature&&!!this.payload.participants.find(t=>u.a.fromJson(t).blockchain()===f.Blockchains.EOSIO),e=[w.HUMAN,w.JSON];return t&&e.push(w.RICARDIAN),e},payload(){return this.popup.payload()},participantAccounts(){return this.payload.hasOwnProperty("participants")?this.payload.participants.map(t=>u.a.fromJson(t)):null},messages(){return this.payload.messages},limitedMessages(){return{actions:this.messages.slice(0,3).map(t=>t.type).join(", "),total:this.messages.length}},isArbitrarySignature(){return!this.payload.hasOwnProperty("participants")},fields(){return v.IdentityRequiredFields.fromJson(this.payload.requiredFields||{})},personalFields(){return this.fields.personal},locationFields(){return this.fields.location},missingFields(){return!(!this.personalFields.length&&!this.locationFields.length)&&!this.identity.hasRequiredFields(this.fields)},isValidIdentity(){return this.selectedIdentity.hasRequiredFields(this.fields,this.clonedLocation)},arbitraryKeypair(){return b.a.getKeyPairFromPublicKey(this.payload.publicKey)},cannotSignArbitrary(){return!!this.isArbitrarySignature&&this.payload.messages[0].data.signing.split(" ").some(t=>t.length>12)},isDangerous(){return!!this.messages.find(t=>"eosio"===t.code&&"updateauth"===t.type)&&this.$t("popouts.signature.dangerousTooltip")}},methods:{returnResult(t){this.$emit("returned",t)},reputable(t){if(this.reputation)return this.reputation.reputables.find(e=>e.code===`${t.code}${t.type}`)},ridlLink:t=>`${_.a}/reputable?id=${t.id}`,formatViewType(t){switch(t){case w.HUMAN:return"Human Readable";case w.JSON:return"JSON Format";case w.RICARDIAN:return"Ricardian Contracts"}},collapse(t){this.toggleAction(t,"collapsed")},isCollapsed(t){return this.actionList.find(e=>e===this.getMessageUnique(t,"collapsed"))},async accepted(){this.returnResult({whitelists:this.whitelists,identity:this.selectedIdentity,location:this.clonedLocation,missingFields:this.missingFields,accepted:!0,needResources:!1})},hash:t=>c.a.unsaltedQuickHash(JSON.stringify(t)),formatJson(t,e=null){this.$nextTick(()=>{const i=(e||"")+this.hash(t),s=new p.a(t,99999,{hoverPreviewEnabled:!0,hoverPreviewArrayCount:10,hoverPreviewFieldCount:5,useToJSON:!0}),a=this.$refs[i][0];if(a.children.length>=1)return!1;a.appendChild(s.render())})},whitelist(){this.whitelisted=!this.whitelisted,this.messages.map(t=>{this.isPreviouslyWhitelisted(t)||this.addWhitelist(t)})},getMessageUnique:(t,e)=>`${t.code}:${t.type}:${e}`,getWhitelist(t){const e=this.getMessageUnique(t,"whitelist");return this.whitelists.find(t=>t.unique===e)},toggleAction(t,e){const i=this.getMessageUnique(t,e);this.actionList.includes(i)?this.actionList=this.actionList.filter(t=>t!==i):this.actionList.push(i)},getAction(t,e){return this.actionList.find(i=>i===this.getMessageUnique(t,e))},addWhitelist(t){if(this.isPreviouslyWhitelisted(t))return!1;this.toggleAction(t,"whitelist");const e=this.getMessageUnique(t,"whitelist"),i={unique:e,props:[],code:t.code,type:t.type,fields:t.data};this.whitelists.find(t=>t.unique===i.unique)?this.whitelists=this.whitelists.filter(t=>t.unique!==e):this.whitelists.push(i),0===this.whitelists.length&&(this.whitelisted=!1)},toggleWhitelistProp(t,e){t.props.includes(e)?t.props=t.props.filter(t=>t!==e):t.props.push(e)},isPreviouslyWhitelisted(t){return!this.isArbitrarySignature&&h.a.hasActionPermission(this.payload.origin,this.identity,this.participantAccounts,t)},hasRicardianContract:t=>t.hasOwnProperty("ricardian")&&t.ricardian.length,...Object(s.b)([a.ADD_RESOURCES])}},k=(i("YDm8"),i("KHd+")),A=Object(k.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("section",{staticClass:"multi-pane popout-window"},[i("section",{staticClass:"main-panel"},[i("PopOutApp",{attrs:{app:t.appData}}),t._v(" "),t.limitedMessages.total>1?i("figure",{staticClass:"has-more"},[t._v(t._s(t.$t("popouts.signature.actionsTotal",{x:t.limitedMessages.total})))]):t._e(),t._v(" "),t.participantAccounts?i("section",{staticClass:"participants"},[i("label",[t._v(t._s(t.$t("popouts.signature.accountsInvolved")))]),t._v(" "),t.participantsAsSelector?i("Select",{attrs:{bordered:"1",options:t.participantAccounts,parser:function(t){return t.network().name+" - "+t.sendable()}}}):i("section",[t._l(t.participantAccounts.slice(0,2),(function(e){return i("section",{staticClass:"participant"},[t._v("\n                        "+t._s(e.network().name)+" - "),i("b",[t._v(t._s(e.sendable()))])])})),t._v(" "),t.participantAccounts.length>2?i("figure",{staticClass:"more-participants",on:{click:function(e){t.participantsAsSelector=!0}}},[t._v("\n                        +"+t._s(t.participantAccounts.length)+" "+t._s(t.$t("popouts.signature.moreAccounts"))+"\n                    ")]):t._e()],2)],1):t._e(),t._v(" "),t.isArbitrarySignature?i("section",{staticClass:"participants"},[i("label",[t._v(t._s(t.$t("popouts.signature.keysInvolved")))]),t._v(" "),i("section",{staticClass:"participant"},[t._v(t._s(t.arbitraryKeypair.name))])]):t._e(),t._v(" "),i("section",{staticClass:"fixed-actions"},[t.isDangerous?i("section",{staticClass:"disclaimer less-pad red centered",staticStyle:{"margin-bottom":"10px"}},[t._v("\n                    "+t._s(t.$t("popouts.signature.dangerous"))+"\n                ")]):t._e(),t._v(" "),i("section",{staticClass:"accept-deny"},[t.pinning?t._e():i("Button",{attrs:{text:t.$t("generic.deny"),big:"1"},nativeOn:{click:function(e){return t.returnResult(!1)}}}),t._v(" "),t.pinning?t._e():i("Button",{attrs:{red:t.isDangerous||t.reputation&&t.reputation.decimal<0,big:"1",blue:"1",disabled:t.cannotSignArbitrary,text:t.$t("generic.allow")},nativeOn:{click:function(e){return t.accepted(e)}}})],1)])],1),t._v(" "),t.expanded?t._e():i("section",{staticClass:"side-panel"},[i("section",{staticClass:"messages-scroller"},[t.isArbitrarySignature||!t.personalFields.length&&!t.locationFields.length?t._e():i("RequiredFields",{attrs:{identity:t.identity,fields:t.fields,"selected-identity":t.selectedIdentity,"cloned-location":t.clonedLocation,"selected-location":t.selectedLocation,"split-panels":"1"},on:{selectLocation:function(e){t.selectedLocation=e,t.clonedLocation=e.clone()},locationField:function(e,i){return t.clonedLocation[e]=i},personalField:function(e,i){return t.selectedIdentity.personal[e]=i}}}),t._v(" "),t._l(t.messages,(function(e,s){return i("section",{ref:"message_"+s,refInFor:!0,staticClass:"messages",class:{dangerous:t.isDangerous||t.reputable(e)&&t.reputable(e).decimal<0}},[t.isPreviouslyWhitelisted(e)?i("section",{staticClass:"whitelist-overlay"},[i("section",{staticClass:"box"},[i("figure",{staticClass:"info"},[t._v(t._s(t.$t("popouts.signature.previouslyWhitelisted")))])])]):t._e(),t._v(" "),i("section",{class:{"previous-whitelist":t.isPreviouslyWhitelisted(e)}},[i("section",{staticClass:"details contract-action"},[t.isDangerous?i("section",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{content:t.isDangerous,classes:["dangertip"]},expression:"{content:isDangerous, classes:['dangertip']}",modifiers:{right:!0}}],staticClass:"danger wiggle"},[i("i",{staticClass:"icon-help"})]):t._e(),t._v(" "),i("figure",{staticClass:"title"},[t.whitelisted&&!t.isPreviouslyWhitelisted(e)?i("input",{attrs:{type:"checkbox"},domProps:{checked:!!t.getWhitelist(e)},on:{change:function(i){return t.addWhitelist(e)}}}):t._e(),t._v(" "),i("ReputationScore",{staticClass:"score",attrs:{reputable:t.reputable(e),small:"1"}}),t._v(" "),i("span",{on:{click:function(i){return t.collapse(e)}}},[t._v(t._s(e.code)+" "),i("i",{staticClass:"contract-split icon-right-open-big"}),t._v(" "+t._s(e.type))])],1),t._v(" "),t.isDangerous?i("span",{staticClass:"danger-title"},[t._v(t._s(t.$t("popouts.signature.dangerousAction")))]):t._e()]),t._v(" "),t.isCollapsed(e)?i("section",{staticClass:"collapsed"},[t._v("\n                            "+t._s(t.$t("popouts.signature.hiddenAction"))+"\n                        ")]):i("section",[i("br"),t._v(" "),t._l(e.data,(function(s,a){return t.viewType===t.VIEW_TYPES.HUMAN?i("section",{staticClass:"properties"},[i("label",[t._v(t._s(a))]),t._v(" "),i("section",{staticClass:"split-inputs"},[t.whitelisted&&!t.isPreviouslyWhitelisted(e)?i("input",{attrs:{type:"checkbox"},on:{change:function(i){t.toggleWhitelistProp(t.getWhitelist(e),a)}}}):t._e(),t._v(" "),"object"==typeof s?i("figure",{staticClass:"value object"},[i("div",{ref:t.hash(JSON.stringify(e))+a+t.hash(s),refInFor:!0,attrs:{"v-html":t.formatJson(s,t.hash(JSON.stringify(e))+a)}})]):i("figure",{staticClass:"value"},[t._v(t._s(s))])])]):t._e()})),t._v(" "),t.viewType===t.VIEW_TYPES.JSON?i("section",{staticClass:"properties"},[i("div",{ref:t.hash(e.data),refInFor:!0,staticClass:"value object",attrs:{"v-html":t.formatJson(e.data)}})]):t._e(),t._v(" "),t.viewType===t.VIEW_TYPES.RICARDIAN?i("section",{staticClass:"properties"},[t.hasRicardianContract(e)?i("figure",{staticClass:"ricardian"},[t._v(t._s(e.ricardian))]):i("figure",{staticClass:"collapsed"},[t._v("No Ricardian Contract")])]):t._e()],2)])])}))],2),t._v(" "),t.isArbitrarySignature||t.isDangerous?t._e():i("section",{staticClass:"whitelist-bar"},[t.whitelisted?t._e():i("figure",{staticClass:"text"},[t._v(t._s(t.$t("popouts.signature.whitelistThis")))]),t._v(" "),t.whitelisted?i("figure",{staticClass:"text blue"},[t._v(t._s(t.$t("popouts.signature.whitelistExplainer")))]):t._e(),t._v(" "),i("Switcher",{attrs:{state:t.whitelisted},nativeOn:{click:function(e){return t.whitelist(e)}}})],1)])])])}),[],!1,null,"d753f700",null);e.default=A.exports},IeaP:function(t,e,i){"use strict";var s=i("L2JU"),a={components:{Scatter:i("wg2a").a},props:["app","suffix"],computed:{...Object(s.d)(["appReputation"]),...Object(s.c)(["ridlEnabled"]),unknownReputation(){return void 0===this.appReputation},trusted(){return this.appReputation&&parseFloat(this.appReputation.decimal)>0},untrusted(){return this.appReputation&&parseFloat(this.appReputation.decimal)<0}}},n=(i("tL4a"),i("KHd+")),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"app-details"},[t.untrusted?i("figure",{staticClass:"logo scam"},[i("i",{staticClass:"icon-attention"})]):i("figure",{staticClass:"logo",class:{border:"Scatter"!==t.app.applink&&!t.app.img}},["Scatter"===t.app.applink?i("Scatter"):t.app.img?i("img",{attrs:{src:t.app.img}}):i("span",[t._v(t._s(t.$t("popouts.popoutApp.noImage")))])],1),t._v(" "),t.ridlEnabled&&"Scatter"!==t.app.applink?i("section",[!1===t.appReputation?i("figure",{staticClass:"reputation"},[i("i",{staticClass:"icon-spin4 animate-spin"}),t._v(" loading reputation")]):i("section",[t.unknownReputation?i("figure",{staticClass:"reputation"},[t._v(t._s(t.$t("popouts.popoutApp.reputation.unknown")))]):t._e(),t._v(" "),t.trusted?i("figure",{staticClass:"reputation trusted"},[t._v(t._s(t.$t("popouts.popoutApp.reputation.trusty")))]):t._e(),t._v(" "),t.untrusted?i("figure",{staticClass:"reputation untrusted"},[t._v(t._s(t.$t("popouts.popoutApp.reputation.scam")))]):t._e()])]):t._e(),t._v(" "),i("figure",{staticClass:"name"},[i("b",[t._v(t._s(t.app.name))]),t._v(" "),t.suffix?i("span",[t._v(t._s(t.suffix))]):t._e()])])}),[],!1,null,"3c121449",null);e.a=o.exports},J8XJ:function(t,e,i){var s=i("y5zb");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i("SZ7m").default)("1a4d8aa0",s,!0,{})},L6xj:function(t,e,i){var s=i("p7K2");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i("SZ7m").default)("c9a2862e",s,!0,{})},YDm8:function(t,e,i){"use strict";var s=i("p77h");i.n(s).a},o7X5:function(t,e,i){(t.exports=i("JPst")(!1)).push([t.i,".app-details[data-v-d753f700]{padding:60px 60px 30px}.ridl-popup[data-v-d753f700]{position:fixed;top:79px;left:0;right:0;bottom:0;z-index:9999;display:flex;justify-content:center;align-items:center}.ridl-popup .bg[data-v-d753f700]{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(255,0,0,0.8);z-index:-1}.ridl-popup .box[data-v-d753f700]{background:#fff;padding:30px;text-align:center;min-width:250px;max-width:450px;width:100%;box-shadow:0 0 0 3px red, 0 0 0 6px white}.ridl-popup .box .link[data-v-d753f700]{cursor:pointer;display:block;text-decoration:underline}.view-types[data-v-d753f700]{position:relative;margin-top:-10px;margin-left:-30px;margin-right:-30px;background:#fff;padding:10px;box-shadow:0 1px 3px rgba(0,0,0,0.05),0 10px 20px rgba(0,0,0,0.02)}input[type=checkbox][data-v-d753f700]{flex:0 0 auto;align-self:flex-start;margin-right:10px;width:20px;height:20px;cursor:pointer}.has-more[data-v-d753f700]{text-align:center;font-size:10px;font-weight:bold;color:#7a7a7a;border:1px solid #c8c8c8;display:table;padding:5px 8px;margin:-25px auto 0}.messages[data-v-d753f700]{padding:20px 0 20px;position:relative}.messages[data-v-d753f700]:not(:first-child){margin-top:60px}.messages .previous-whitelist[data-v-d753f700]{opacity:0.4;cursor:not-allowed}.messages .collapsed[data-v-d753f700]{padding-top:10px;font-size:11px}.messages .whitelist-overlay[data-v-d753f700]{position:absolute;top:50px;right:0;z-index:2;display:flex;justify-content:center;align-items:center}.messages .whitelist-overlay .box[data-v-d753f700]{width:150px;padding:20px;background:#fff;text-align:center;box-shadow:0 2px 4px rgba(0,0,0,0.1),0 10px 20px rgba(0,0,0,0.03);font-size:13px;font-weight:bold}.messages .details .title[data-v-d753f700]{align-items:center;display:flex;font-size:14px;cursor:pointer}.messages .details .title[data-v-d753f700]:hover{text-decoration:underline}.messages .details .contract-split[data-v-d753f700]{padding:0 5px;font-size:13px;display:inline-block;animation:bounce-data-v-d753f700 0.7s infinite}@keyframes bounce-data-v-d753f700{0%,100%{transform:translateX(-2px)}50%{transform:translateX(2px)}}.messages .properties .ricardian[data-v-d753f700]{background:rgba(0,0,0,0.05);border:1px solid rgba(0,0,0,0.15);padding:10px}.messages .properties label[data-v-d753f700]{margin-bottom:5px}.messages .properties .value[data-v-d753f700]{overflow-x:auto;min-height:16px;font-size:16px;font-weight:bold}.messages .properties .value.object[data-v-d753f700]{font-size:13px;font-weight:500}.messages .properties:not(:last-child) .value[data-v-d753f700]{margin-bottom:20px}.messages.dangerous .danger[data-v-d753f700]{cursor:pointer;float:left;padding:6px 5px 5px;background:rgba(0,0,0,0.1);box-shadow:inset 0 5px 10px rgba(0,0,0,0.1);text-shadow:0 2px 0 rgba(0,0,0,0.1);margin-top:7px;margin-right:10px}.messages.dangerous .details.contract-action[data-v-d753f700]{background:red;background:linear-gradient(-180deg, #ff0707 -20%, #e23b3b 100%);border-bottom:1px solid darkred;color:#fff}.messages.dangerous .danger-title[data-v-d753f700]{font-size:11px;width:100%}.json-formatter-dark.json-formatter-row[data-v-d753f700]{padding:0}.contract-action[data-v-d753f700]{margin:-20px -30px 0;border-top:1px solid rgba(0,0,0,0.04);padding:20px 30px;background:linear-gradient(180deg, #007fd7 0%, #0799ff 100%);color:#fff}.contract-action .title span[data-v-d753f700]{font-size:18px}\n",""])},p77h:function(t,e,i){var s=i("o7X5");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i("SZ7m").default)("795c799a",s,!0,{})},p7K2:function(t,e,i){(t.exports=i("JPst")(!1)).push([t.i,".fields-title[data-v-586a6aca]{margin:-20px -30px 0;padding:20px 30px;background:linear-gradient(180deg, #007fd7 0%, #0799ff 100%);color:#fff;font-size:18px;margin-bottom:20px}.required-fields[data-v-586a6aca]{padding:20px 0 0}\n",""])},pNnu:function(t,e,i){"use strict";var s=i("L6xj");i.n(s).a},psvp:function(t,e,i){"use strict";i("L2JU");var s={props:["fields","identity","selectedIdentity","selectedLocation","clonedLocation"],data:()=>({}),computed:{identityRequirements(){return this.personalFields.concat(this.locationFields).join(", ")},personalFields(){return this.fields.personal},locationFields(){return this.fields.location}},methods:{fieldValueFor(t,e=!1){return e?this.identity.getPropertyValueByName(t,this.selectedLocation):this.selectedIdentity.getPropertyValueByName(t,this.clonedLocation)}}},a=(i("pNnu"),i("KHd+")),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"required-fields"},[i("section",{staticClass:"fields-title"},[t._v("\n\t\t"+t._s(t.$t("popouts.requiredFields.title"))+"\n\t")]),t._v(" "),i("section",[i("label",[t._v(t._s(t.$t("popouts.requiredFields.personalInformation")))]),t._v(" "),i("figure",{staticClass:"text"},[t._v("\n\t\t\t"+t._s(t.identityRequirements)+"\n\t\t")])])])}),[],!1,null,"586a6aca",null);e.a=n.exports},tL4a:function(t,e,i){"use strict";var s=i("J8XJ");i.n(s).a},y5zb:function(t,e,i){(t.exports=i("JPst")(!1)).push([t.i,".reputation[data-v-3c121449]{padding:5px 12px;font-size:10px;margin-bottom:10px;margin-top:-5px;font-weight:bold;background:#f3f6f7;color:#c8c8c8}.reputation.trusted[data-v-3c121449]{background:#159F00;color:#fff}.reputation.untrusted[data-v-3c121449]{background:#ff0707;color:#fff}.app-details[data-v-3c121449]{text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.app-details .logo[data-v-3c121449]{display:flex;align-items:center;justify-content:center;height:100px;width:100px;border-radius:4px;padding:5px;margin-bottom:20px}.app-details .logo.border[data-v-3c121449]{background:#f3f6f7;border:1px solid #dfe0e1}.app-details .logo img[data-v-3c121449]{height:100%;width:100%}.app-details .logo span[data-v-3c121449]{font-size:10px;font-weight:bold;color:#7a7a7a}.app-details .logo.scam[data-v-3c121449]{font-size:48px;border-radius:50%;color:#ff0707;background:#f3f6f7;border:1px solid #dfe0e1;animation:pulsate 0.5s ease infinite}.app-details .name[data-v-3c121449]{font-size:14px}\n",""])}}]);