(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+0iO":function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},"5lvq":function(e,t,n){"use strict";const r=n("+7+6");class a{static encrypt(e,t){"object"==typeof e&&(e=JSON.stringify(e));const{iv:n,salt:a,ct:i}=JSON.parse(r.encrypt(t,e,{mode:"gcm"}));return JSON.stringify({iv:n,salt:a,ct:i})}static decrypt(e,t){e=JSON.stringify(Object.assign(JSON.parse(e),{mode:"gcm"}));let n=r.decrypt(t,e);try{return JSON.parse(n)}catch(e){return n}}}t.AES=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"6mh5":function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n("y3zn"),u=n("HDXh"),o=function(e){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=e.call(this,t,n)||this;Object.defineProperty(r,"from",{enumerable:!0,configurable:!0,get:function(){return r.getSenderAddress()},set:function(e){e&&(r._from=i.toBuffer(e))}});var a=t;return a.from&&(r.from=i.toBuffer(a.from)),r}return a(t,e),t.prototype.hash=function(t){if(void 0===t&&(t=!0),t&&this._from&&""!==this._from.toString("hex")){var n=u.Buffer.concat([this._from,this._from.slice(0,12)]);this.sign(n)}return e.prototype.hash.call(this,t)},t}(n("YHbk").default);t.default=o},"9TkW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YHbk");t.Transaction=r.default;var a=n("6mh5");t.FakeTransaction=a.default},L8hn:function(e,t,n){"use strict";e.exports=n("eK4W")(window,(function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},OsH3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("OZ/i");t.BN=r;var a=n("o8pB");t.rlp=a;var i=n("aYMp"),u=n("IzB8");t.secp256k1=u;var o=n("9lTW"),f=n("mObS"),s=n("hwdV").Buffer,c=n("mhLr");function l(e,t){return t?e-(2*t+35):e-27}function d(e){return 0===e||1===e}Object.assign(t,c),t.MAX_INTEGER=new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=s.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=s.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=s.from(t.KECCAK256_RLP_S,"hex"),t.zeros=function(e){return s.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=function(e,n,r){void 0===r&&(r=!1);var a=t.zeros(n);return e=t.toBuffer(e),r?e.length<n?(e.copy(a),a):e.slice(0,n):e.length<n?(e.copy(a,n-e.length),a):e.slice(-n)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,n){return t.setLength(e,n,!0)},t.unpad=function(e){for(var t=(e=c.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(e){if(!s.isBuffer(e))if(Array.isArray(e))e=s.from(e);else if("string"==typeof e)e=t.isHexString(e)?s.from(t.padToEven(t.stripHexPrefix(e)),"hex"):s.from(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=s.allocUnsafe(0);else if(r.isBN(e))e=e.toArrayLike(s);else{if(!e.toArray)throw new Error("invalid type");e=s.from(e.toArray())}return e},t.bufferToInt=function(e){return new r(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new r(e).fromTwos(256)},t.toUnsigned=function(e){return s.from(e.toTwos(256).toArray())},t.keccak=function(e,n){return void 0===n&&(n=256),e=t.toBuffer(e),n||(n=256),i("keccak"+n).update(e).digest()},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=t.toBuffer(e),f("sha256").update(e).digest()},t.ripemd160=function(e,n){e=t.toBuffer(e);var r=f("rmd160").update(e).digest();return!0===n?t.setLength(r,32):r},t.rlphash=function(e){return t.keccak(a.encode(e))},t.isValidPrivate=function(e){return u.privateKeyVerify(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?u.publicKeyVerify(s.concat([s.from([4]),e])):!!t&&u.publicKeyVerify(e)},t.pubToAddress=function(e,n){return void 0===n&&(n=!1),e=t.toBuffer(e),n&&64!==e.length&&(e=u.publicKeyConvert(e,!1).slice(1)),o(64===e.length),t.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToPublic=function(e){return e=t.toBuffer(e),u.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=u.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t,n){var r=u.sign(e,t),a=r.recovery;return{r:r.signature.slice(0,32),s:r.signature.slice(32,64),v:n?a+(2*n+35):a+27}},t.hashPersonalMessage=function(e){var n=t.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return t.keccak(s.concat([n,e]))},t.ecrecover=function(e,n,r,a,i){var o=s.concat([t.setLength(r,32),t.setLength(a,32)],64),f=l(n,i);if(!d(f))throw new Error("Invalid signature v value");var c=u.recover(e,o,f);return u.publicKeyConvert(c,!1).slice(1)},t.toRpcSig=function(e,n,r,a){if(!d(l(e,a)))throw new Error("Invalid signature v value");return t.bufferToHex(s.concat([t.setLengthLeft(n,32),t.setLengthLeft(r,32),t.toBuffer(e)]))},t.fromRpcSig=function(e){var n=t.toBuffer(e);if(65!==n.length)throw new Error("Invalid signature length");var r=n[64];return r<27&&(r+=27),{v:r,r:n.slice(0,32),s:n.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=c.stripHexPrefix(e).toLowerCase();for(var n=t.keccak(e).toString("hex"),r="0x",a=0;a<e.length;a++)parseInt(n[a],16)>=8?r+=e[a].toUpperCase():r+=e[a];return r},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,n){e=t.toBuffer(e);var a=new r(n);return a.isZero()?t.rlphash([e,null]).slice(-20):t.rlphash([e,s.from(a.toArray())]).slice(-20)},t.generateAddress2=function(e,n,r){var a=t.toBuffer(e),i=t.toBuffer(n),u=t.toBuffer(r);return o(20===a.length),o(32===i.length),t.keccak256(s.concat([s.from("ff","hex"),a,i,t.keccak256(u)])).slice(-20)},t.isPrecompiled=function(e){var n=t.unpad(e);return 1===n.length&&n[0]>=1&&n[0]<=8},t.addHexPrefix=function(e){return"string"!=typeof e?e:c.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,n,a,i){void 0===a&&(a=!0);var u=new r("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==n.length)return!1;if(!d(l(e,i)))return!1;var f=new r(t),s=new r(n);return!(f.isZero()||f.gt(o)||s.isZero()||s.gt(o))&&(!a||1!==s.cmp(u))},t.baToJSON=function(e){if(s.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(t.baToJSON(e[r]));return n}},t.defineProperties=function(e,n,r){if(e.raw=[],e._fields=[],e.toJSON=function(n){if(void 0===n&&(n=!1),n){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return t.baToJSON(e.raw)},e.serialize=function(){return a.encode(e.raw)},n.forEach((function(n,r){function a(){return e.raw[r]}function i(a){"00"!==(a=t.toBuffer(a)).toString("hex")||n.allowZero||(a=s.allocUnsafe(0)),n.allowLess&&n.length?(a=t.stripZeros(a),o(n.length>=a.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===a.length||!n.length||o(n.length===a.length,"The field "+n.name+" must have byte length of "+n.length),e.raw[r]=a}e._fields.push(n.name),Object.defineProperty(e,n.name,{enumerable:!0,configurable:!0,get:a,set:i}),n.default&&(e[n.name]=n.default),n.alias&&Object.defineProperty(e,n.alias,{enumerable:!1,configurable:!0,set:i,get:a})})),r)if("string"==typeof r&&(r=s.from(c.stripHexPrefix(r),"hex")),s.isBuffer(r)&&(r=a.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(n,r){e[e._fields[r]]=t.toBuffer(n)}))}else{if("object"!=typeof r)throw new Error("invalid data");var i=Object.keys(r);n.forEach((function(t){-1!==i.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==i.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}}},YHbk:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("y3zn"),i=n("pi6U"),u=n("HDXh"),o=new a.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else{var n=t.chain?t.chain:"mainnet",r=t.hardfork?t.hardfork:"petersburg";this._common=new i.default(n,r)}var o=[{name:"nonce",length:32,allowLess:!0,default:new u.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new u.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new u.Buffer([])},{name:"to",allowZero:!0,length:20,default:new u.Buffer([])},{name:"value",length:32,allowLess:!0,default:new u.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new u.Buffer([])},{name:"v",allowZero:!0,default:new u.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new u.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new u.Buffer([])}];a.defineProperties(this,o,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([a.toBuffer(this.getChainId()),a.stripZeros(a.toBuffer(0)),a.stripZeros(a.toBuffer(0))]):this.raw.slice(0,6),a.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=a.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new a.BN(this.s).cmp(o))return!1;try{var t=a.bufferToInt(this.v),n=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=a.ecrecover(e,t,this.r,this.s,n?this.getChainId():void 0)}catch(e){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new u.Buffer([]),this.s=new u.Buffer([]),this.r=new u.Buffer([]);var t=this.hash(!1),n=a.ecsign(t,e);this._implementsEIP155()&&(n.v+=2*this.getChainId()+8),Object.assign(this,n)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new a.BN(0),n=0;n<e.length;n++)0===e[n]?t.iaddn(this._common.param("gasPrices","txDataZero")):t.iaddn(this._common.param("gasPrices","txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new a.BN(this.gasLimit).imul(new a.BN(this.gasPrice)).iadd(new a.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new a.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return a.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=a.bufferToInt(e);if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",r({},t,{set:function(n){void 0!==n&&e._validateV(a.toBuffer(n)),t.set(n)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=a.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();t.default=f},"dI+u":function(e,t,n){"use strict";(function(e){var r=n("284h"),a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("cDf5")),u=a(n("o0o1")),o=a(n("yXPU")),f=a(n("lwsE")),s=a(n("W8MJ")),c=a(n("a1gu")),l=a(n("Nsbk")),d=a(n("7W2i")),p=a(n("J4zp")),h=a(n("MIez")),v=r(n("ROq3")),m=n("F+MN"),y=a(n("78si")),g=r(n("+nw1")),b=a(n("O1cq")),w=a(n("UYLU")),k=a(n("GwxU")),x=a(n("hfoK")),P=a(n("ONSl")),_=a(n("pk5N")),A=a(n("YRtA")),T=a(n("r6PA")),B=a(n("YxRf")),S=a(n("f4g2")),O=a(n("WPTD")),C=a(n("Rlsf")),K=n("+0iO"),E=n("9TkW").Transaction,L=n("y3zn"),N=new B.default,R=function(e){return L.toBuffer(L.addHexPrefix(e))},H={},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.unique()+(t?t.getAccounts()[0]:"");if(H.hasOwnProperty(n))return H[n];var r=new S.default,a=new B.default(r);t&&r.addProvider(new C.default(t));var i="ethnodes.get-scatter.com"===e.host?"https://commonly-classic-katydid.quiknode.io/d0bf98e7-a866-43d4-ac71-2397fd1b3aba/dQsznyrZRg2dr4DQJNPDgw==/":e.fullhost();return r.addProvider(new O.default({rpcUrl:i})),r.start(),H[n]=[a,r],H[n]},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.unique()+(t?t.getAccounts()[0]:"");if(H.hasOwnProperty(n)){var r=(0,p.default)(H[n],2),a=(r[0],r[1]);a.stop(),delete H[n]}},V={name:"Etherscan",account:"https://etherscan.io/address/{x}",transaction:"https://etherscan.io/tx/{x}",block:"https://etherscan.io/block/{x}"},M=function(e,t){for(var n="",r=0;r<t;r++)n+="0";return e+n},q=function(t){function n(){return(0,f.default)(this,n),(0,c.default)(this,(0,l.default)(n).call(this,m.Blockchains.ETH,v.BLOCKCHAIN_SUPPORT))}var r,a,h,B,S,O,C;return(0,d.default)(n,t),(0,s.default)(n,[{key:"bip",value:function(){return"44'/60'/0'/0/"}},{key:"bustCache",value:function(){H={}}},{key:"defaultExplorer",value:function(){return V}},{key:"accountFormatter",value:function(e){return"".concat(e.publicKey)}},{key:"returnableAccount",value:function(e){return{address:e.publicKey,blockchain:m.Blockchains.ETH}}},{key:"contractPlaceholder",value:function(){return"0x....."}},{key:"recipientLabel",value:function(){return"Address"}},{key:"checkNetwork",value:function(e){return Promise.race([new Promise((function(e){return setTimeout((function(){return e(null)}),2e3)})),new Promise((function(e){return setTimeout((function(){return e(!0)}),10)}))])}},{key:"getEndorsedNetwork",value:function(){return new y.default("ETH Mainnet","https","ethnodes.get-scatter.com",443,m.Blockchains.ETH,"1")}},{key:"isEndorsedNetwork",value:function(e){var t=this.getEndorsedNetwork();return e.blockchain===m.Blockchains.ETH&&e.chainId===t.chainId}},{key:"getChainId",value:(C=(0,o.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",1);case 1:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})},{key:"usesResources",value:function(){return!1}},{key:"hasAccountActions",value:function(){return!1}},{key:"accountsAreImported",value:function(){return!1}},{key:"isValidRecipient",value:function(e){return this.validPublicKey(e)}},{key:"privateToPublic",value:function(e){return L.addHexPrefix(L.privateToAddress(R(e)).toString("hex"))}},{key:"validPrivateKey",value:function(e){return 64===e.length&&L.isValidPrivate(R(e))}},{key:"validPublicKey",value:function(e){return L.isValidAddress(e)}},{key:"bufferToHexPrivate",value:function(t){return e.from(t).toString("hex")}},{key:"hexPrivateToBuffer",value:function(t){return e.from(t,"hex")}},{key:"hasUntouchableTokens",value:function(){return!1}},{key:"balanceFor",value:(O=(0,o.default)(u.default.mark((function e(t,n){var r,a,i,f,s,c,l=this,d=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:null,a=!r,r||(f=I(t.network()),(s=(0,p.default)(f,2))[0],c=s[1],r=c),e.next=5,Promise.race([new Promise((function(e){return setTimeout((function(){return e()}),1e4)})),new Promise(function(){var e=(0,o.default)(u.default.mark((function e(a){var o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.uniqueWithChain()!==l.defaultToken().uniqueWithChain()){e.next=10;break}return e.t0=r.utils,e.next=4,r.eth.getBalance(t.publicKey);case 4:return e.t1=e.sent,e.next=7,e.t0.fromWei.call(e.t0,e.t1);case 7:i=e.sent,e.next=24;break;case 10:return o=new r.eth.Contract(K,n.contract),e.prev=11,e.t2=P.default,e.next=15,o.methods.balanceOf(t.sendable()).call();case 15:e.t3=e.sent,e.t4=n,i=e.t2.formatAmount.call(e.t2,e.t3,e.t4,!0),e.next=24;break;case 20:e.prev=20,e.t5=e.catch(11),console.error("".concat(n.name," is not an ERC20 token"),e.t5),i=P.default.formatAmount("0",n,!0);case 24:a();case 25:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(t){return e.apply(this,arguments)}}())]);case 5:return a&&j(t.network()),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return O.apply(this,arguments)})},{key:"balancesFor",value:(S=(0,o.default)(u.default.mark((function e(t,n){var r,a,i,o,f,s;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=I(t.network()),a=(0,p.default)(r,2),i=a[0],a[1],o=[],f=0;case 3:if(!(f<n.length)){e.next=13;break}return s=n[f].clone(),e.next=7,this.balanceFor(t,n[f],i);case 7:s.amount=e.sent,s.chainId=t.network().chainId,o.push(s);case 10:f++,e.next=3;break;case 13:return j(t.network()),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"defaultDecimals",value:function(){return 18}},{key:"defaultToken",value:function(){return new k.default(m.Blockchains.ETH,"eth","ETH","ETH",this.defaultDecimals(),"1")}},{key:"actionParticipants",value:function(e){return w.default.flatten(e.messages.map((function(e){return e.authorization})))}},{key:"transfer",value:(B=(0,o.default)(u.default.mark((function e(t){var n,r,a,i,f,s,c,l=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.to,a=t.amount,i=t.token,f=t.promptForSignature,s=void 0===f||f,i.contract,i.symbol,c=i.uniqueWithChain()===this.defaultToken().uniqueWithChain(),e.abrupt("return",new Promise(function(){var e=(0,o.default)(u.default.mark((function e(t,f){var d,h,v,y,g,b,w;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=new W(n,function(){var e=(0,o.default)(u.default.mark((function e(t,r){var a,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={transaction:t,blockchain:m.Blockchains.TRX,network:n.network(),requiredFields:{},abi:c?null:K},!s){e.next=7;break}return e.next=4,l.signerWithPopup(a,n,(function(e){return h(e)}),i);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,T.default.sign(n.network(),a,n.publicKey,!1,!1);case 9:e.t0=e.sent;case 10:return o=e.t0,r&&r(null,o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=function(e){j(n.network(),d),t(e)},v=I(n.network(),d),y=(0,p.default)(v,2),g=y[0],y[1];try{c?(b=N.utils.toWei(a.toString()),g.eth.sendTransaction({from:n.publicKey,to:r,value:b}).on("transactionHash",(function(e){return h({transactionHash:e})})).on("error",(function(e){return h({error:e})}))):(w=M(a.toString(),i.decimals),new g.eth.Contract(K,i.contract,{from:n.sendable()}).methods.transfer(r,w).send({gasLimit:25e4}).on("transactionHash",(function(e){return h({transactionHash:e})})).on("error",(function(e){return h({error:e})})))}catch(e){h({error:e})}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})},{key:"signer",value:(h=(0,o.default)(u.default.mark((function e(t,n){var r,a,i,o=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.length>2&&void 0!==o[2]&&o[2],o.length>3&&void 0!==o[3]&&o[3],r=o.length>4&&void 0!==o[4]?o[4]:null){e.next=7;break}return e.next=6,b.default.publicToPrivate(n);case 6:r=e.sent;case 7:if(r){e.next=9;break}return e.abrupt("return");case 9:return a=new E(t),i=L.addHexPrefix(r),a.sign(L.toBuffer(i)),e.abrupt("return",L.addHexPrefix(a.serialize().toString("hex")));case 13:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})},{key:"signerWithPopup",value:(a=(0,o.default)(u.default.mark((function e(t,n,r){var a,i=this,f=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>3&&void 0!==f[3]?f[3]:null,e.abrupt("return",new Promise(function(){var e=(0,o.default)(u.default.mark((function e(f){var s;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.requestParser(t.transaction,t.hasOwnProperty("abi")?t.abi:null,a);case 2:t.messages=e.sent,t.identityKey=_.default.get().state.scatter.keychain.identities[0].publicKey,t.participants=[n],t.network=n.network(),t.origin="Scatter",s={payload:t,origin:t.origin,blockchain:m.Blockchains.ETH,requiredFields:{},type:g.SIGN,id:1},A.default.emit("popout",s).then(function(){var e=(0,o.default)(u.default.mark((function e(a){var i,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a.result)&&i.accepted){e.next=3;break}return e.abrupt("return",r({error:"Could not get signature"}));case 3:if(o=null,!b.default.isHardware(n.publicKey)){e.next=10;break}return e.next=7,x.default.sign(n,t);case 7:o=e.sent,e.next=13;break;case 10:return e.next=12,T.default.sign(t.network,t.transaction,n.publicKey,!0);case 12:o=e.sent;case 13:if(o){e.next=15;break}return e.abrupt("return",r({error:"Could not get signature"}));case 15:f(o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"requestParser",value:(r=(0,o.default)(u.default.mark((function e(t,n){var r,a,o,f,s,c,l,d=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]?d[2]:null,a={},!n){e.next=10;break}if(o=n.find((function(e){return-1!==t.data.indexOf(e.signature)}))){e.next=6;break}throw Error.signatureError("no_abi_method","No method signature on the abi you provided matched the data for this transaction");case 6:0!==(f=t.data.replace(o.signature,"")).indexOf("0x")&&(f="0x"+f),a=N.eth.abi.decodeParameters(o.inputs,f),a=Object.keys(a).reduce((function(e,t){return o.inputs.map((function(e){return e.name})).includes(t)&&(e[t]=a[t]),e}),{});case 10:return s=N.utils.hexToNumberString,c=Object.assign(a,{gasLimit:s(t.gasLimit),gasPrice:N.utils.fromWei(s(t.gasPrice))}),(l=c.hasOwnProperty("value")?"value":c.hasOwnProperty("_value")?"_value":null)&&("number"==typeof c[l]&&c[l]>0&&(c[l]=s(c[l])),"object"===(0,i.default)(c[l])&&(c[l].hasOwnProperty("hex")?"hex":c[l].hasOwnProperty("_hex")?"_hex":null)&&(c[l]=c[l].toString())),t.hasOwnProperty("value")&&t.value>0&&(c.value=N.utils.fromWei(s(t.value))+" ETH"),e.abrupt("return",[{data:c,code:r?r.name:t.to,type:n?o.name:"transfer",authorization:t.from}]);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),n}(h.default);t.default=q;var W=function e(t,n){(0,f.default)(this,e),this.signTransaction=n,this.getAccounts=function(e){var n=[t.sendable()];return e&&e(null,n),n}}}).call(this,n("HDXh").Buffer)},eK4W:function(e,t,n){"use strict";var r=null;e.exports=function(e,t){return function(n,a){n=n||null;var i=!1!==(a=a||{}).global;if(null===r&&i&&(r=e["@@any-promise/REGISTRATION"]||null),null!==r&&null!==n&&r.implementation!==n)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==n&&void 0!==a.Promise?{Promise:a.Promise,implementation:n}:t(n),i&&(e["@@any-promise/REGISTRATION"]=r)),r}}},m6mq:function(e,t,n){e.exports=n("L8hn")().Promise},tz1k:function(e,t,n){"use strict";(function(e){var r=n("284h"),a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,u=a(n("o0o1")),o=a(n("yXPU")),f=a(n("lwsE")),s=a(n("W8MJ")),c=a(n("a1gu")),l=a(n("Nsbk")),d=a(n("7W2i")),p=a(n("MIez")),h=r(n("ROq3")),v=r(n("+nw1")),m=n("F+MN"),y=a(n("78si")),g=a(n("O1cq")),b=a(n("GwxU")),w=a(n("hfoK")),k=a(n("pk5N")),x=a(n("ONSl")),P=a(n("YRtA")),_=a(n("r6PA")),A=a(n("0BtN")),T=n("OsH3"),B={},S=function(e){if(B.hasOwnProperty(e.unique()))return B[e.unique()];var t=new A.default.providers.HttpProvider(e.fullhost()),n=new A.default(t,t,e.fullhost());return B[e.unique()]=n,n},O={name:"Tronscan",account:"https://tronscan.org/#/address/{x}",transaction:"https://tronscan.org/#/transaction/{x}",block:"https://tronscan.org/#/block/{x}"},C=function(t){function n(){return(0,f.default)(this,n),(0,c.default)(this,(0,l.default)(n).call(this,m.Blockchains.TRX,h.BLOCKCHAIN_SUPPORT))}var r,a,p,C,K,E,L;return(0,d.default)(n,t),(0,s.default)(n,[{key:"init",value:function(){var e="https://api.shasta.trongrid.io",t=new A.default.providers.HttpProvider(e),n=new A.default(t,t,e);i=n.utils}},{key:"bip",value:function(){return"44'/195'/0'/0/"}},{key:"bustCache",value:function(){B={}}},{key:"defaultExplorer",value:function(){return O}},{key:"accountFormatter",value:function(e){return"".concat(e.publicKey)}},{key:"returnableAccount",value:function(e){return{address:e.publicKey,blockchain:m.Blockchains.TRX}}},{key:"contractPlaceholder",value:function(){return"0x....."}},{key:"checkNetwork",value:function(e){return Promise.race([new Promise((function(e){return setTimeout((function(){return e(null)}),2e3)})),new Promise((function(e){return setTimeout((function(){return e(!0)}),10)}))])}},{key:"getEndorsedNetwork",value:function(){return new y.default("Tron Mainnet","https","api.trongrid.io",443,m.Blockchains.TRX,"1")}},{key:"isEndorsedNetwork",value:function(e){var t=this.getEndorsedNetwork();return e.blockchain===m.Blockchains.TRX&&e.chainId===t.chainId}},{key:"getChainId",value:(L=(0,o.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",1);case 1:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})},{key:"usesResources",value:function(){return!1}},{key:"hasAccountActions",value:function(){return!1}},{key:"accountsAreImported",value:function(){return!1}},{key:"isValidRecipient",value:function(e){return i.crypto.isAddressValid(e)}},{key:"privateToPublic",value:function(e){return"string"==typeof e&&(e=this.hexPrivateToBuffer(e)),i.crypto.getBase58CheckAddress(i.crypto.getAddressFromPriKey(e))}},{key:"validPrivateKey",value:function(e){return 64===e.length&&T.isValidPrivate((t=e,T.toBuffer(T.addHexPrefix(t))));var t}},{key:"validPublicKey",value:function(e){return i.crypto.isAddressValid(e)}},{key:"bufferToHexPrivate",value:function(t){return new e(t).toString("hex")}},{key:"hexPrivateToBuffer",value:function(t){return e.from(t,"hex")}},{key:"hasUntouchableTokens",value:function(){return!1}},{key:"balanceFor",value:(E=(0,o.default)(u.default.mark((function e(t,n){var r,a,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S(t.network()),a=n.clone(),n.uniqueWithChain()!==this.defaultToken().uniqueWithChain()){e.next=7;break}return e.next=5,r.trx.getBalance(t.publicKey);case 5:i=e.sent,a.amount=r.toBigNumber(i).div(1e6).toFixed(6).toString(10);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"balancesFor",value:(K=(0,o.default)(u.default.mark((function e(t,n){var r,a,i,o,f,s,c,l=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S(t.network()),a=function(e){return r.toBigNumber(e).div(1e6).toFixed(6).toString(10)},i=this.defaultToken(),e.next=5,Promise.race([new Promise((function(e){return setTimeout((function(){return e({asset:[],balance:0})}),2e3)})),r.trx.getAccount(t.sendable()).catch((function(){return{asset:[],balance:0}}))]);case 5:if(o=e.sent,f=o.asset,s=o.balance,i.amount=a(s),f){e.next=11;break}return e.abrupt("return",[i]);case 11:return c=f.map((function(e){var n=e.key,r=e.value;return b.default.fromJson({blockchain:m.Blockchains.TRX,contract:"",symbol:n,name:n,decimals:l.defaultDecimals(),amount:a(r),chainId:t.network().chainId})})),e.abrupt("return",[i].concat(c));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return K.apply(this,arguments)})},{key:"defaultDecimals",value:function(){return 6}},{key:"defaultToken",value:function(){return new b.default(m.Blockchains.TRX,"trx","TRX","TRX",this.defaultDecimals(),"1")}},{key:"actionParticipants",value:function(e){return e.transaction.participants}},{key:"transfer",value:(C=(0,o.default)(u.default.mark((function e(t){var n,r,a,i,f,s,c,l=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.to,a=t.amount,i=t.token,f=t.promptForSignature,s=void 0===f||f,a=x.default.formatAmount(a,i),c=i.symbol,e.abrupt("return",new Promise(function(){var e=(0,o.default)(u.default.mark((function e(t,f){var d,p,h,v;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((d=S(n.network())).trx.sign=function(){var e=(0,o.default)(u.default.mark((function e(t){var r,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={transaction:t,participants:[n.publicKey]},a={transaction:r,blockchain:m.Blockchains.TRX,network:n.network(),requiredFields:{}},!s){e.next=8;break}return e.next=5,l.signerWithPopup(a,n,f);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,_.default.sign(n.network(),a,n.publicKey,!1,!1);case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.unique()!==l.defaultToken().unique()){e.next=8;break}return e.next=5,d.transactionBuilder.sendTrx(r,a,n.publicKey);case 5:p=e.sent,e.next=12;break;case 8:return d.setAddress(n.sendable()),e.next=11,d.transactionBuilder.sendToken(r,a,c);case 11:p=e.sent;case 12:return e.next=14,d.trx.sign(p).then((function(e){return{success:!0,result:e}})).catch((function(e){return{success:!1,result:e}}));case 14:if((h=e.sent).success){e.next=19;break}return e.abrupt("return",t({error:h.result}));case 19:return e.next=21,d.trx.sendRawTransaction(h.result).then((function(e){return e.result}));case 21:v=e.sent,t(v?h.result:{error:"Failed to send."});case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})},{key:"signer",value:(p=(0,o.default)(u.default.mark((function e(t,n){var r,a=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>2&&void 0!==a[2]&&a[2],a.length>3&&void 0!==a[3]&&a[3],r=a.length>4&&void 0!==a[4]?a[4]:null){e.next=7;break}return e.next=6,g.default.publicToPrivate(n);case 6:r=e.sent;case 7:if(r){e.next=9;break}return e.abrupt("return");case 9:return"string"!=typeof r&&(r=this.bufferToHexPrivate(r)),e.abrupt("return",i.crypto.signTransaction(r,t.transaction.transaction));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"signerWithPopup",value:(a=(0,o.default)(u.default.mark((function e(t,n,r){var a=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.default)(u.default.mark((function e(i){var f;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.requestParser(t);case 2:t.messages=e.sent,t.identityKey=k.default.get().state.scatter.keychain.identities[0].publicKey,t.participants=[n],t.network=n.network(),t.origin="Scatter",f={payload:t,origin:t.origin,blockchain:m.Blockchains.TRX,requiredFields:{},type:v.SIGN,id:1},P.default.emit("popout",f).then(function(){var e=(0,o.default)(u.default.mark((function e(a){var o,f;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=a.result)&&o.accepted){e.next=3;break}return e.abrupt("return",r({error:"Could not get signature"}));case 3:if(f=null,!g.default.isHardware(n.publicKey)){e.next=10;break}return e.next=7,w.default.sign(n,t);case 7:f=e.sent,e.next=13;break;case 10:return e.next=12,_.default.sign(t.network,t,n.publicKey);case 12:f=e.sent;case 13:if(f){e.next=15;break}return e.abrupt("return",r({error:"Could not get signature"}));case 15:i(f);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"requestParser",value:(r=(0,o.default)(u.default.mark((function e(t,n){var r,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.default.fromJson(t.network),t.transaction.transaction.txID,t=t.transaction.transaction.raw_data,a=S(r),e.abrupt("return",t.contract.map((function(e){var t,r=e.parameter.value,i=r.hasOwnProperty("contract_address")?r.contract_address:"system",u=r.hasOwnProperty("call_value")?{paying:a.fromSun(r.call_value)+" TRX"}:{};if(n){var o=n.abi,f=(n.address,n.method);if(!(t=o.find((function(e){return e.name===f}))))throw Error.signatureError("no_abi_method","No method signature on the abi you provided matched the data for this transaction");var s=t.inputs.map((function(e){return e.name})),c=t.inputs.map((function(e){return e.type}));r=a.utils.abi.decodeParams(s,c,r.data,!0),r=Object.assign(r,u),Object.keys(r).map((function(e){a.utils.isBigNumber(r[e])&&(r[e]=r[e].toString())}))}return{data:r,code:i,type:t?t.name:"transfer"}})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),n}(p.default);t.default=C}).call(this,n("HDXh").Buffer)},y3zn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("OZ/i");t.BN=r;var a=n("o8pB");t.rlp=a;var i=n("aYMp"),u=n("IzB8");t.secp256k1=u;var o=n("9lTW"),f=n("mObS"),s=n("hwdV").Buffer,c=n("mhLr");function l(e,t){return t?e-(2*t+35):e-27}function d(e){return 0===e||1===e}Object.assign(t,c),t.MAX_INTEGER=new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=s.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=s.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=s.from(t.KECCAK256_RLP_S,"hex"),t.zeros=function(e){return s.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=function(e,n,r){void 0===r&&(r=!1);var a=t.zeros(n);return e=t.toBuffer(e),r?e.length<n?(e.copy(a),a):e.slice(0,n):e.length<n?(e.copy(a,n-e.length),a):e.slice(-n)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,n){return t.setLength(e,n,!0)},t.unpad=function(e){for(var t=(e=c.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(e){if(!s.isBuffer(e))if(Array.isArray(e))e=s.from(e);else if("string"==typeof e)e=t.isHexString(e)?s.from(t.padToEven(t.stripHexPrefix(e)),"hex"):s.from(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=s.allocUnsafe(0);else if(r.isBN(e))e=e.toArrayLike(s);else{if(!e.toArray)throw new Error("invalid type");e=s.from(e.toArray())}return e},t.bufferToInt=function(e){return new r(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new r(e).fromTwos(256)},t.toUnsigned=function(e){return s.from(e.toTwos(256).toArray())},t.keccak=function(e,n){return void 0===n&&(n=256),e=t.toBuffer(e),n||(n=256),i("keccak"+n).update(e).digest()},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=t.toBuffer(e),f("sha256").update(e).digest()},t.ripemd160=function(e,n){e=t.toBuffer(e);var r=f("rmd160").update(e).digest();return!0===n?t.setLength(r,32):r},t.rlphash=function(e){return t.keccak(a.encode(e))},t.isValidPrivate=function(e){return u.privateKeyVerify(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?u.publicKeyVerify(s.concat([s.from([4]),e])):!!t&&u.publicKeyVerify(e)},t.pubToAddress=function(e,n){return void 0===n&&(n=!1),e=t.toBuffer(e),n&&64!==e.length&&(e=u.publicKeyConvert(e,!1).slice(1)),o(64===e.length),t.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToPublic=function(e){return e=t.toBuffer(e),u.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=u.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t,n){var r=u.sign(e,t),a=r.recovery;return{r:r.signature.slice(0,32),s:r.signature.slice(32,64),v:n?a+(2*n+35):a+27}},t.hashPersonalMessage=function(e){var n=t.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return t.keccak(s.concat([n,e]))},t.ecrecover=function(e,n,r,a,i){var o=s.concat([t.setLength(r,32),t.setLength(a,32)],64),f=l(n,i);if(!d(f))throw new Error("Invalid signature v value");var c=u.recover(e,o,f);return u.publicKeyConvert(c,!1).slice(1)},t.toRpcSig=function(e,n,r,a){if(!d(l(e,a)))throw new Error("Invalid signature v value");return t.bufferToHex(s.concat([t.setLengthLeft(n,32),t.setLengthLeft(r,32),t.toBuffer(e)]))},t.fromRpcSig=function(e){var n=t.toBuffer(e);if(65!==n.length)throw new Error("Invalid signature length");var r=n[64];return r<27&&(r+=27),{v:r,r:n.slice(0,32),s:n.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=c.stripHexPrefix(e).toLowerCase();for(var n=t.keccak(e).toString("hex"),r="0x",a=0;a<e.length;a++)parseInt(n[a],16)>=8?r+=e[a].toUpperCase():r+=e[a];return r},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,n){e=t.toBuffer(e);var a=new r(n);return a.isZero()?t.rlphash([e,null]).slice(-20):t.rlphash([e,s.from(a.toArray())]).slice(-20)},t.generateAddress2=function(e,n,r){var a=t.toBuffer(e),i=t.toBuffer(n),u=t.toBuffer(r);return o(20===a.length),o(32===i.length),t.keccak256(s.concat([s.from("ff","hex"),a,i,t.keccak256(u)])).slice(-20)},t.isPrecompiled=function(e){var n=t.unpad(e);return 1===n.length&&n[0]>=1&&n[0]<=8},t.addHexPrefix=function(e){return"string"!=typeof e?e:c.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,n,a,i){void 0===a&&(a=!0);var u=new r("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==n.length)return!1;if(!d(l(e,i)))return!1;var f=new r(t),s=new r(n);return!(f.isZero()||f.gt(o)||s.isZero()||s.gt(o))&&(!a||1!==s.cmp(u))},t.baToJSON=function(e){if(s.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(t.baToJSON(e[r]));return n}},t.defineProperties=function(e,n,r){if(e.raw=[],e._fields=[],e.toJSON=function(n){if(void 0===n&&(n=!1),n){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return t.baToJSON(e.raw)},e.serialize=function(){return a.encode(e.raw)},n.forEach((function(n,r){function a(){return e.raw[r]}function i(a){"00"!==(a=t.toBuffer(a)).toString("hex")||n.allowZero||(a=s.allocUnsafe(0)),n.allowLess&&n.length?(a=t.stripZeros(a),o(n.length>=a.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===a.length||!n.length||o(n.length===a.length,"The field "+n.name+" must have byte length of "+n.length),e.raw[r]=a}e._fields.push(n.name),Object.defineProperty(e,n.name,{enumerable:!0,configurable:!0,get:a,set:i}),n.default&&(e[n.name]=n.default),n.alias&&Object.defineProperty(e,n.alias,{enumerable:!1,configurable:!0,set:i,get:a})})),r)if("string"==typeof r&&(r=s.from(c.stripHexPrefix(r),"hex")),s.isBuffer(r)&&(r=a.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(n,r){e[e._fields[r]]=t.toBuffer(n)}))}else{if("object"!=typeof r)throw new Error("invalid data");var i=Object.keys(r);n.forEach((function(t){-1!==i.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==i.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}}}}]);