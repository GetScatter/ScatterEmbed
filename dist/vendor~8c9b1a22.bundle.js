(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0BtN":function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t){e.exports=n("o0o1")},function(e,t){e.exports=n("yXPU")},function(e,t){e.exports=n("lwsE")},function(e,t){e.exports=n("W8MJ")},function(e,t){e.exports=n("lSNA")},function(e,t){e.exports=n("FVPH")},function(e,t){e.exports=n("RIqP")},function(e,t){e.exports=n("J4zp")},function(e,t){e.exports=n("cDf5")},function(e,t){e.exports=n("g2/l")},function(e,t){e.exports=n("5+qj")},function(e,t){e.exports=n("PJYZ")},function(e,t){e.exports=n("jWEn")},function(e,t){e.exports=n("MzeL")},function(e,t){e.exports=n("a1gu")},function(e,t){e.exports=n("Nsbk")},function(e,t){e.exports=n("7W2i")},function(e,t){e.exports=n("vDqi")},function(e,t){e.exports=n("+QwO")},function(e,t){e.exports=n("uhBA")},function(e){e.exports=JSON.parse('{"a":"2.8.0"}')},function(e,t){e.exports=n("s4NR")},function(e,n,r){"use strict";r.r(n);var i={};r.r(i),r.d(i,"byte2hexStr",(function(){return B})),r.d(i,"bytesToString",(function(){return F})),r.d(i,"hextoString",(function(){return C})),r.d(i,"byteArray2hexStr",(function(){return D})),r.d(i,"base64DecodeFromString",(function(){return q})),r.d(i,"base64EncodeToString",(function(){return R}));var s={};r.r(s),r.d(s,"bin2String",(function(){return M})),r.d(s,"arrayEquals",(function(){return G})),r.d(s,"stringToBytes",(function(){return J})),r.d(s,"byte2hexStr",(function(){return B})),r.d(s,"bytesToString",(function(){return F})),r.d(s,"hextoString",(function(){return C})),r.d(s,"byteArray2hexStr",(function(){return D})),r.d(s,"base64DecodeFromString",(function(){return q})),r.d(s,"base64EncodeToString",(function(){return R})),r.d(s,"hexChar2byte",(function(){return Y})),r.d(s,"isHexChar",(function(){return $})),r.d(s,"hexStr2byteArray",(function(){return X})),r.d(s,"strToDate",(function(){return Z})),r.d(s,"isNumber",(function(){return Q})),r.d(s,"getStringType",(function(){return ee}));var o={};r.r(o),r.d(o,"encode58",(function(){return se})),r.d(o,"decode58",(function(){return oe}));var a={};r.r(a),r.d(a,"keccak256",(function(){return ce})),r.d(a,"sha256",(function(){return de})),r.d(a,"toUtf8Bytes",(function(){return le})),r.d(a,"recoverAddress",(function(){return he})),r.d(a,"SigningKey",(function(){return fe})),r.d(a,"AbiCoder",(function(){return ve}));var u={};r.r(u),r.d(u,"getBase58CheckAddress",(function(){return pe})),r.d(u,"decodeBase58Address",(function(){return ge})),r.d(u,"signTransaction",(function(){return be})),r.d(u,"arrayToBase64String",(function(){return me})),r.d(u,"signBytes",(function(){return ye})),r.d(u,"getRowBytesFromTransactionBase64",(function(){return ke})),r.d(u,"genPriKey",(function(){return xe})),r.d(u,"computeAddress",(function(){return we})),r.d(u,"getAddressFromPriKey",(function(){return Ae})),r.d(u,"decode58Check",(function(){return Ie})),r.d(u,"isAddressValid",(function(){return We})),r.d(u,"getBase58CheckAddressFromPriKeyBase64String",(function(){return Pe})),r.d(u,"getHexStrAddressFromPriKeyBase64String",(function(){return Ne})),r.d(u,"getAddressFromPriKeyBase64String",(function(){return _e})),r.d(u,"getPubKeyFromPriKey",(function(){return Se})),r.d(u,"ECKeySign",(function(){return Oe})),r.d(u,"SHA256",(function(){return Te})),r.d(u,"passwordToAddress",(function(){return je})),r.d(u,"pkToAddress",(function(){return Ee}));var c={};r.r(c),r.d(c,"generateAccount",(function(){return Be}));var d={};r.r(d),r.d(d,"decodeParams",(function(){return Ce})),r.d(d,"encodeParams",(function(){return De}));var l=r(0),h=r.n(l),f=r(1),v=r.n(f),p=r(8),g=r.n(p),b=r(2),m=r.n(b),y=r(3),k=r.n(y),x=r(14),w=r.n(x),A=r(15),I=r.n(A),W=r(11),P=r.n(W),N=r(16),_=r.n(N),S=r(4),O=r.n(S),T=r(17),j=r.n(T);function E(){var e=this;this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(t){for(var n,r,i,s,o,a,u,c="",d=0;d<t.length;)s=(n=t.charCodeAt(d++))>>2,o=(3&n)<<4|(r=t.charCodeAt(d++))>>4,a=(15&r)<<2|(i=t.charCodeAt(d++))>>6,u=63&i,isNaN(r)?a=u=64:isNaN(i)&&(u=64),c=c+e._keyStr.charAt(s)+e._keyStr.charAt(o)+e._keyStr.charAt(a)+e._keyStr.charAt(u);return c},this.encodeIgnoreUtf8=function(t){for(var n,r,i,s,o,a,u,c="",d=0;d<t.length;)s=(n=t[d++])>>2,o=(3&n)<<4|(r=t[d++])>>4,a=(15&r)<<2|(i=t[d++])>>6,u=63&i,isNaN(r)?a=u=64:isNaN(i)&&(u=64),c=c+e._keyStr.charAt(s)+e._keyStr.charAt(o)+e._keyStr.charAt(a)+e._keyStr.charAt(u);return c},this.decode=function(t){var n,r,i,s,o,a,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=e._keyStr.indexOf(t.charAt(c++))<<2|(s=e._keyStr.indexOf(t.charAt(c++)))>>4,r=(15&s)<<4|(o=e._keyStr.indexOf(t.charAt(c++)))>>2,i=(3&o)<<6|(a=e._keyStr.indexOf(t.charAt(c++))),u+=String.fromCharCode(n),64!=o&&(u+=String.fromCharCode(r)),64!=a&&(u+=String.fromCharCode(i));return e._utf8_decode(u)},this.decodeToByteArray=function(t){var n,r,i,s,o,a,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=e._keyStr.indexOf(t.charAt(c++))<<2|(s=e._keyStr.indexOf(t.charAt(c++)))>>4,r=(15&s)<<4|(o=e._keyStr.indexOf(t.charAt(c++)))>>2,i=(3&o)<<6|(a=e._keyStr.indexOf(t.charAt(c++))),u+=String.fromCharCode(n),64!=o&&(u+=String.fromCharCode(r)),64!=a&&(u+=String.fromCharCode(i));return e._out2ByteArray(u)},this._out2ByteArray=function(e){for(var t=new Array(e.length),n=0,r=0;n<e.length;)r=e.charCodeAt(n),t[n]=r,n++;return t},this._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},this._utf8_decode=function(e){for(var t="",n=0,r=0,i=0,s=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),s=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s),n+=3);return t}}function B(e){if("number"!=typeof e)throw new Error("Input must be a number");if(e<0||e>255)throw new Error("Input must be a byte");var t="";return(t+="0123456789ABCDEF".charAt(e>>4))+"0123456789ABCDEF".charAt(15&e)}function F(e){if("string"==typeof e)return e;for(var t="",n=0;n<e.length;n++){var r=e[n].toString(2),i=r.match(/^1+?(?=0)/);if(i&&8===r.length){for(var s=i[0].length,o=e[n].toString(2).slice(7-s),a=1;a<s;a++)o+=e[a+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(o,2)),n+=s-1}else t+=String.fromCharCode(e[n])}return t}function C(e){for(var t=e.replace(/^0x/,"").split(""),n="",r=0;r<t.length/2;r++){var i="0x".concat(t[2*r]).concat(t[2*r+1]);n+=String.fromCharCode(i)}return n}function D(e){for(var t="",n=0;n<e.length;n++)t+=B(e[n]);return t}function q(e){return(new E).decodeToByteArray(e)}function R(e){return(new E).encodeIgnoreUtf8(e)}var U=r(6),L=r.n(U),H=34,K="41",V=65,z=/^(41)/;function M(e){return F(e)}function G(e,t,n){if(e.length!=t.length)return!1;var r;for(r=0;r<e.length;r++)if(n){if(e[r]!=t[r])return!1}else if(JSON.stringify(e[r])!=JSON.stringify(t[r]))return!1;return!0}function J(e){if("string"!=typeof e)throw new Error("The passed string is not a string");var t,n,r=new Array;t=e.length;for(var i=0;i<t;i++)(n=e.charCodeAt(i))>=65536&&n<=1114111?(r.push(n>>18&7|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):n>=2048&&n<=65535?(r.push(n>>12&15|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=128&&n<=2047?(r.push(n>>6&31|192),r.push(63&n|128)):r.push(255&n);return r}function Y(e){var t;if(e>="A"&&e<="F"?t=e.charCodeAt(0)-"A".charCodeAt(0)+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-"a".charCodeAt(0)+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-"0".charCodeAt(0)),"number"==typeof t)return t;throw new Error("The passed hex char is not a valid hex char")}function $(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"?1:0}function X(e){if("string"!=typeof e)throw new Error("The passed string is not a string");for(var t=Array(),n=0,r=0,i=0,s=0;s<e.length;s++){var o=e.charAt(s);if(!$(o))throw new Error("The passed hex char is not a valid hex string");n<<=4,n+=Y(o),0==++r%2&&(t[i++]=n,n=0)}return t}function Z(e){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(e))throw new Error("The passed date string is not valid");var t=e.split(" "),n=t[0].split("-"),r=parseInt(n[0],10),i=parseInt(n[1],10)-1,s=parseInt(n[2],10);if(t.length>1){var o=t[1].split("-"),a=parseInt(o[0],10),u=parseInt(o[1],10),c=parseInt(o[2],10);return new Date(r,i,s,a,u,c)}return new Date(r,i,s)}function Q(e){return e>="0"&&e<="9"?1:0}function ee(e){if(null==e)return-1;if("string"!=typeof e)return-1;if(0==e.length||""==e)return-1;var t=0;if(40==e.length)for(;t<40&&$(e.charAt(t));t++);if(40==t)return 1;for(t=0;t<e.length&&Q(e.charAt(t));t++);if(t==e.length)return 2;for(t=0;t<e.length;t++)if(e.charAt(t)>" ")return 3;return-1}for(var te="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ne={},re=0;re<te.length;re++)ne[te.charAt(re)]=re;var ie=58;function se(e){if(0===e.length)return"";var t,n,r=[0];for(t=0;t<e.length;t++){for(n=0;n<r.length;n++)r[n]<<=8;r[0]+=e[t];var i=0;for(n=0;n<r.length;++n)r[n]+=i,i=r[n]/ie|0,r[n]%=ie;for(;i;)r.push(i%ie),i=i/ie|0}for(t=0;0===e[t]&&t<e.length-1;t++)r.push(0);return r.reverse().map((function(e){return te[e]})).join("")}function oe(e){if(0===e.length)return[];var t,n,r=[0];for(t=0;t<e.length;t++){var i=e[t];if(!(i in ne))throw new Error("Non-base58 character");for(n=0;n<r.length;n++)r[n]*=ie;r[0]+=ne[i];var s=0;for(n=0;n<r.length;++n)r[n]+=s,s=r[n]>>8,r[n]&=255;for(;s;)r.push(255&s),s>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)r.push(0);return r.reverse()}var ae=r(13),ue=r(10),ce=ue.utils.keccak256,de=ue.utils.sha256,le=ue.utils.toUtf8Bytes,he=ue.utils.recoverAddress,fe=ue.utils.SigningKey,ve=ue.utils.AbiCoder;function pe(e){var t=Te(e),n=Te(t).slice(0,4);return se(n=e.concat(n))}function ge(e){if("string"!=typeof e)return!1;if(e.length<=4)return!1;var t=oe(e);if(e.length<=4)return!1;var n=t.length-4,r=t.slice(n),i=Te(t=t.slice(0,n)),s=Te(i).slice(0,4);if(r[0]==s[0]&&r[1]==s[1]&&r[2]==s[2]&&r[3]==s[3])return t;throw new Error("Invalid address provided")}function be(e,t){"string"==typeof e&&(e=X(e));var n=Oe(X(t.txID),e);return Array.isArray(t.signature)?t.signature.includes(n)||t.signature.push(n):t.signature=[n],t}function me(e){return btoa(String.fromCharCode.apply(String,L()(e)))}function ye(e,t){return"string"==typeof e&&(e=X(e)),Oe(Te(t),e)}function ke(e){var t=q(e);return proto.protocol.Transaction.deserializeBinary(t).getRawData().serializeBinary()}function xe(){for(var e=new ae.ec("secp256k1").genKeyPair().getPrivate().toString("hex");e.length<64;)e="0".concat(e);return X(e)}function we(e){65===e.length&&(e=e.slice(1));var t=ce(e).toString().substring(2);return X(K+t.substring(24))}function Ae(e){return we(Se(e))}function Ie(e){var t=oe(e);if(t.length<=4)return!1;var n=t.slice(0,t.length-4),r=Te(n),i=Te(r);return i[0]===t[n.length]&&i[1]===t[n.length+1]&&i[2]===t[n.length+2]&&i[3]===t[n.length+3]&&n}function We(e){if("string"!=typeof e)return!1;if(e.length!==H)return!1;var t=oe(e);if(25!==t.length)return!1;if(t[0]!==V)return!1;var n=t.slice(21),r=Te(t=t.slice(0,21)),i=Te(r).slice(0,4);return n[0]==i[0]&&n[1]==i[1]&&n[2]==i[2]&&n[3]==i[3]}function Pe(e){return pe(we(Se(q(e))))}function Ne(e){return D(we(Se(q(e))))}function _e(e){return R(we(Se(q(e))))}function Se(e){for(var t=new ae.ec("secp256k1").keyFromPrivate(e,"bytes").getPublic(),n=t.x,r=t.y,i=n.toString("hex");i.length<64;)i="0".concat(i);for(var s=r.toString("hex");s.length<64;)s="0".concat(s);return X("04".concat(i).concat(s))}function Oe(e,t){for(var n=new ae.ec("secp256k1").keyFromPrivate(t,"bytes").sign(e),r=n.r,i=n.s,s=n.recoveryParam,o=r.toString("hex");o.length<64;)o="0".concat(o);for(var a=i.toString("hex");a.length<64;)a="0".concat(a);return o+a+B(s)}function Te(e){var t=D(e);return X(de("0x"+t).replace(/^0x/,""))}function je(e){return pe(Ae(q(e)))}function Ee(e){return pe(Ae(X(e)))}function Be(){var e=xe(),t=Se(e),n=Ae(e);return{privateKey:D(e),publicKey:D(t),address:{base58:pe(n),hex:D(n)}}}var Fe=new ve;function Ce(e,t,n,r){if(n&&"boolean"!=typeof n||(r=n,n=t,t=e,e=[]),r&&n.replace(/^0x/,"").length%64==8&&(n="0x"+n.replace(/^0x/,"").substring(8)),n.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return t=t.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),Fe.decode(t,n).reduce((function(n,r,i){return"address"==t[i]&&(r=K+r.substr(2).toLowerCase()),e.length?n[e[i]]=r:n.push(r),n}),e.length?{}:[])}function De(e,t){for(var n=0;n<e.length;n++)"address"===e[n]&&(t[n]=It.address.toHex(t[n]).replace(z,"0x"));return Fe.encode(e,t)}var qe=r(18),Re=r.n(qe),Ue=r(9),Le=r.n(Ue);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ke,Ve,ze=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{isValidURL:function(e){return"string"==typeof e&&Re.a.isURL(e.toString(),{protocols:["http","https"],require_tld:!1})},isObject:function(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)},isJson:function(e){try{return!!JSON.parse(e)}catch(e){return!1}},isBoolean:function(e){return"boolean"==typeof e},isBigNumber:function(e){return e&&(e instanceof Le.a||e.constructor&&"BigNumber"===e.constructor.name)},isString:function(e){return"string"==typeof e||e&&e.constructor&&"String"===e.constructor.name},isFunction:function(e){return"function"==typeof e},isHex:function(e){return"string"==typeof e&&!isNaN(parseInt(e,16))&&/^(0x|)[a-fA-F0-9]+$/.test(e)},isInteger:function(e){return null!==e&&Number.isInteger(Number(e))},hasProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},hasProperties:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.length&&!r.map((function(n){return t.hasProperty(e,n)})).includes(!1)},mapEvent:function(e){var t={block:e.block_number,timestamp:e.block_timestamp,contract:e.contract_address,name:e.event_name,transaction:e.transaction_id,result:e.result,resourceNode:e.resource_Node||(e._unconfirmed?"fullNode":"solidityNode")};return e._unconfirmed&&(t.unconfirmed=e._unconfirmed),e._fingerprint&&(t.fingerprint=e._fingerprint),t},parseEvent:function(e,t){var n=t.inputs;if(!e.result)return e;if(this.isObject(e.result))for(var r=0;r<n.length;r++){var i=n[r];"address"==i.type&&i.name in e.result&&(e.result[i.name]=K+e.result[i.name].substr(2).toLowerCase())}else this.isArray(e.result)&&(e.result=e.result.reduce((function(e,t,r){var i=n[r],s=i.name;return"address"==i.type&&(t=K+t.substr(2).toLowerCase()),e[s]=t,e}),{}));return e},padLeft:function(e,t,n){for(var r=e.toString();r.length<n;)r=t+r;return r},isNotNullOrUndefined:function(e){return null!=e},sleep:(Ke=v()(h.a.mark((function e(){var t,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1e3,e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 2:case"end":return e.stop()}}),e)}))),function(){return Ke.apply(this,arguments)})},{code:s,accounts:c,base58:o,bytes:i,crypto:u,abi:d,ethersUtils:a}),Me={HttpProvider:function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"/";if(m()(this,e),!ze.isValidURL(t))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(n)||n<0)throw new Error("Invalid timeout duration provided");if(!ze.isObject(s))throw new Error("Invalid headers object provided");t=t.replace(/\/+$/,""),this.host=t,this.timeout=n,this.user=r,this.password=i,this.headers=s,this.statusPage=o,this.instance=j.a.create({baseURL:t,timeout:n,headers:s,auth:r&&{user:r,password:i}})}var t;return k()(e,[{key:"setStatusPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.statusPage=e}},{key:"isConnected",value:(t=v()(h.a.mark((function e(){var t,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.statusPage,e.abrupt("return",this.request(t).then((function(e){return ze.hasProperties(e,"blockID","block_header")})).catch((function(){return!1})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return n=n.toLowerCase(),this.instance.request({data:"post"==n&&Object.keys(t).length?t:null,params:"get"==n&&t,url:e,method:n}).then((function(e){return e.data}))}}]),e}()},Ge=r(19),Je=r.n(Ge),Ye=r(20),$e=r(12),Xe=r.n($e),Ze=r(5),Qe=r.n(Ze),et=r(7),tt=r.n(et),nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m()(this,e),!t||!t instanceof It)throw new Error("Expected instance of TronWeb");this.tronWeb=t}return k()(e,[{key:"invalid",value:function(e){return e.msg||"Invalid ".concat(e.name).concat("address"===e.type?" address":""," provided")}},{key:"notPositive",value:function(e){return"".concat(e.name," must be a positive integer")}},{key:"notEqual",value:function(e){return e.msg||"".concat(e.names[0]," can not be equal to ").concat(e.names[1])}},{key:"notValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Function,n={},r=!1,i=!0,s=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value,d=c.name,l=c.names,h=c.value,f=c.type,v=c.gt,p=c.lt,g=c.gte,b=c.lte,m=(c.se,c.optional);if(!m||ze.isNotNullOrUndefined(h)&&("boolean"===f||!1!==h)){switch(n[c.name]=c.value,f){case"address":this.tronWeb.isAddress(h)?n[d]=this.tronWeb.address.toHex(h):r=!0;break;case"integer":(!ze.isInteger(h)||"number"==typeof v&&h<=c.gt||"number"==typeof p&&h>=c.lt||"number"==typeof g&&h<c.gte||"number"==typeof b&&h>c.lte)&&(r=!0);break;case"positive-integer":if(!ze.isInteger(h)||h<=0)return void t(this.notPositive(c));break;case"tokenId":ze.isString(h)&&h.length||(r=!0);break;case"notEmptyObject":ze.isObject(h)&&Object.keys(h).length||(r=!0);break;case"notEqual":if(n[l[0]]===n[l[1]])return t(this.notEqual(c)),!0;break;case"resource":["BANDWIDTH","ENERGY"].includes(h)||(r=!0);break;case"url":ze.isValidURL(h)||(r=!0);break;case"hex":ze.isHex(h)||(r=!0);break;case"array":Array.isArray(h)||(r=!0);break;case"not-empty-string":ze.isString(h)&&h.length||(r=!0);break;case"boolean":ze.isBoolean(h)||(r=!0);break;case"string":(!ze.isString(h)||"number"==typeof v&&h.length<=c.gt||"number"==typeof p&&h.length>=c.lt||"number"==typeof g&&h.length<c.gte||"number"==typeof b&&h.length>c.lte)&&(r=!0)}if(r)return t(this.invalid(c)),!0}}}catch(e){s=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(s)throw o}}return!1}}]),e}();function rt(e){return It.address.toHex(e)}function it(e){return Ve.tronWeb.fromUtf8(e)}function st(e,t){return e.Error?t(e.Error):e.result&&e.result.message?t(Ve.tronWeb.toUtf8(e.result.message)):t(null,e)}var ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m()(this,e),!t||!t instanceof It)throw new Error("Expected instance of TronWeb");Ve=this,this.tronWeb=t,this.injectPromise=Qe()(this),this.validator=new nt(t)}var t,n,r,i;return k()(e,[{key:"sendTrx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):ze.isObject(n)&&(r=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.sendTrx,e,t,n,r);if(t=parseInt(t),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:n},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:t}],i)){var s={to_address:rt(e),owner_address:rt(n),amount:t};r&&r.permissionId&&(s.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/createtransaction",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"sendToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i={}),ze.isFunction(r)?(s=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(i=r,r=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.sendToken,e,t,n,r,i);if(t=parseInt(t),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:r},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:t},{name:"token ID",type:"tokenId",value:n}],s)){var o={to_address:rt(e),owner_address:rt(r),asset_name:it(n),amount:parseInt(t)};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/transferasset",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"purchaseToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i={}),ze.isFunction(r)?(s=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(i=r,r=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.purchaseToken,e,t,n,r,i);if(!this.validator.notValid([{name:"buyer",type:"address",value:r},{name:"issuer",type:"address",value:e},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:n},{name:"token ID",type:"tokenId",value:t}],s)){var o={to_address:rt(e),owner_address:rt(r),asset_name:it(t),amount:parseInt(n)};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/participateassetissue",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"freezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BANDWIDTH",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(ze.isFunction(s)&&(o=s,s={}),ze.isFunction(i)?(o=i,i=void 0):ze.isObject(i)&&(s=i,i=void 0),ze.isFunction(r)?(o=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(s=r,r=this.tronWeb.defaultAddress.hex),ze.isFunction(t)&&(o=t,t=3),ze.isFunction(n)&&(o=n,n="BANDWIDTH"),!o)return this.injectPromise(this.freezeBalance,e,t,n,r,i,s);if(!this.validator.notValid([{name:"origin",type:"address",value:r},{name:"receiver",type:"address",value:i,optional:!0},{name:"amount",type:"integer",gt:0,value:e},{name:"duration",type:"integer",gte:3,value:t},{name:"resource",type:"resource",value:n,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],o)){var a={owner_address:rt(r),frozen_balance:parseInt(e),frozen_duration:parseInt(t),resource:n};ze.isNotNullOrUndefined(i)&&rt(i)!==rt(r)&&(a.receiver_address=rt(i)),s&&s.permissionId&&(a.Permission_id=s.permissionId),this.tronWeb.fullNode.request("wallet/freezebalance",a,"post").then((function(e){return st(e,o)})).catch((function(e){return o(e)}))}}},{key:"unfreezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BANDWIDTH",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=void 0):ze.isObject(n)&&(r=n,n=void 0),ze.isFunction(t)?(i=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(r=t,t=this.tronWeb.defaultAddress.hex),ze.isFunction(e)&&(i=e,e="BANDWIDTH"),!i)return this.injectPromise(this.unfreezeBalance,e,t,n,r);if(!this.validator.notValid([{name:"origin",type:"address",value:t},{name:"receiver",type:"address",value:n,optional:!0},{name:"resource",type:"resource",value:e,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY'}],i)){var s={owner_address:rt(t),resource:e};ze.isNotNullOrUndefined(n)&&rt(n)!==rt(t)&&(s.receiver_address=rt(n)),r&&r.permissionId&&(s.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/unfreezebalance",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"withdrawBlockRewards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t={}),ze.isFunction(e)?(n=e,e=this.tronWeb.defaultAddress.hex):ze.isObject(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.withdrawBlockRewards,e,t);if(!this.validator.notValid([{name:"origin",type:"address",value:e}],n)){var r={owner_address:rt(e)};t&&t.permissionId&&(r.Permission_id=t.permissionId),this.tronWeb.fullNode.request("wallet/withdrawbalance",r,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"applyForSR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(console.log(rt(e),ze.isObject(t)),ze.isFunction(n)&&(r=n,n={}),ze.isObject(t)&&ze.isValidURL(e)&&(n=t,t=e,e=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.applyForSR,e,t,n);if(!this.validator.notValid([{name:"origin",type:"address",value:e},{name:"url",type:"url",value:t,msg:"Invalid url provided"}],r)){console.log(rt(e));var i={owner_address:rt(e),url:it(t)};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/createwitness",i,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"vote",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):ze.isObject(n)&&(r=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.vote,t,n,r);if(!this.validator.notValid([{name:"voter",type:"address",value:n},{name:"votes",type:"notEmptyObject",value:t}],i)){var s=!1;if(t=Object.entries(t).map((function(t){var n=tt()(t,2),r=n[0],i=n[1];if(!s)return e.validator.notValid([{name:"SR",type:"address",value:r},{name:"vote count",type:"integer",gt:0,value:i,msg:"Invalid vote count provided for SR: "+r}])?s=!0:{vote_address:rt(r),vote_count:parseInt(i)}})),!s){var o={owner_address:rt(n),votes:t};r&&r.permissionId&&(o.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/votewitnessaccount",o,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}}},{key:"createSmartContract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.createSmartContract,e,t);var r=e.feeLimit||1e9,i=e.userFeePercentage;"number"==typeof i||i||(i=100);var s=e.originEnergyLimit||1e7,o=e.callValue||0,a=e.tokenValue,u=e.tokenId||e.token_id,c=e.abi,d=void 0!==c&&c,l=e.bytecode,h=void 0!==l&&l,f=e.parameters,v=void 0===f?[]:f,p=e.name,g=void 0===p?"":p;if(d&&ze.isString(d))try{d=JSON.parse(d)}catch(e){return n("Invalid options.abi provided")}if(d.entrys&&(d=d.entrys),!ze.isArray(d))return n("Invalid options.abi provided");var b=d.some((function(e){return"constructor"==e.type&&e.payable}));if(!this.validator.notValid([{name:"bytecode",type:"hex",value:h},{name:"feeLimit",type:"integer",value:r,gt:0,lte:1e9},{name:"callValue",type:"integer",value:o,gte:0},{name:"userFeePercentage",type:"integer",value:i,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:s,gte:0,lte:1e7},{name:"parameters",type:"array",value:v},{name:"issuer",type:"address",value:t},{name:"tokenValue",type:"integer",value:a,gte:0,optional:!0},{name:"tokenId",type:"integer",value:u,gte:0,optional:!0}],n)){if(b&&0==o&&0==a)return n("When contract is payable, options.callValue or options.tokenValue must be a positive integer");if(!b&&(o>0||a>0))return n("When contract is not payable, options.callValue and options.tokenValue must be 0");var m=d.find((function(e){return"constructor"===e.type}));if(void 0!==m&&m){var y=new ve,k=[],x=[];if(m=m.inputs,v.length!=m.length)return n("constructor needs ".concat(m.length," but ").concat(v.length," provided"));for(var w=0;w<v.length;w++){var A=m[w].type,I=v[w];if(!A||!ze.isString(A)||!A.length)return n("Invalid parameter type provided: "+A);"address"==A&&(I=rt(I).replace(z,"0x")),k.push(A),x.push(I)}try{v=y.encode(k,x).replace(/^(0x)/,"")}catch(e){return n(e)}}else v="";var W={owner_address:rt(t),fee_limit:parseInt(r),call_value:parseInt(o),consume_user_resource_percent:i,origin_energy_limit:s,abi:JSON.stringify(d),bytecode:h,parameter:v,name:g};ze.isNotNullOrUndefined(a)&&(W.call_token_value=parseInt(a)),ze.isNotNullOrUndefined(u)&&(W.token_id=parseInt(u)),e&&e.permissionId&&(W.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/deploycontract",W,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"triggerSmartContract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"object"!==g()(t[2])&&(t[2]={feeLimit:t[2],callValue:t[3]},t.splice(3,1)),this._triggerSmartContract.apply(this,t)}},{key:"triggerConstantContract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[2]._isConstant=!0,this.triggerSmartContract.apply(this,t)}},{key:"triggerConfirmedConstantContract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[2]._isConstant=!0,t[2].confirmed=!0,this.triggerSmartContract.apply(this,t)}},{key:"_triggerSmartContract",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i=this.tronWeb.defaultAddress.hex),ze.isFunction(r)&&(s=r,r=[]),!s)return this.injectPromise(this._triggerSmartContract,e,t,n,r,i);var o=Object.assign({callValue:0,feeLimit:1e9},n),a=o.tokenValue,u=o.tokenId,c=o.callValue,d=o.feeLimit;if(!this.validator.notValid([{name:"feeLimit",type:"integer",value:d,gt:0,lte:1e9},{name:"callValue",type:"integer",value:c,gte:0},{name:"parameters",type:"array",value:r},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:i,optional:!0},{name:"tokenValue",type:"integer",value:a,gte:0,optional:!0},{name:"tokenId",type:"integer",value:u,gte:0,optional:!0},{name:"function selector",type:"not-empty-string",value:t}],s)){if(t=t.replace("/s*/g",""),r.length){for(var l=new ve,h=[],f=[],v=0;v<r.length;v++){var p=r[v],g=p.type,b=p.value;if(!g||!ze.isString(g)||!g.length)return s("Invalid parameter type provided: "+g);"address"==g&&(b=rt(b).replace(z,"0x")),h.push(g),f.push(b)}try{h=h.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),r=l.encode(h,f).replace(/^(0x)/,"")}catch(e){return s(e)}}else r="";var m={contract_address:rt(e),owner_address:rt(i),function_selector:t,parameter:r};n._isConstant||(m.call_value=parseInt(c),m.fee_limit=parseInt(d),ze.isNotNullOrUndefined(a)&&(m.call_token_value=parseInt(a)),ze.isNotNullOrUndefined(u)&&(m.token_id=parseInt(u))),n.permissionId&&(m.Permission_id=n.permissionId),this.tronWeb[n.confirmed?"solidityNode":"fullNode"].request("wallet".concat(n.confirmed?"solidity":"","/trigger").concat(n._isConstant?"constant":"smart","contract"),m,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"clearABI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return this.injectPromise(this.clearABI,e,t);if(!this.tronWeb.isAddress(e))return n("Invalid contract address provided");if(!this.tronWeb.isAddress(t))return n("Invalid owner address provided");var r={contract_address:rt(e),owner_address:rt(t)};this.tronWeb.trx.cache.contracts[e]&&delete this.tronWeb.trx.cache.contracts[e],this.tronWeb.fullNode.request("wallet/clearabi",r,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}},{key:"updateBrokerage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return this.injectPromise(this.updateBrokerage,e,t);if(!ze.isNotNullOrUndefined(e))return n("Invalid brokerage provided");if(!ze.isInteger(e)||e<0||e>100)return n("Brokerage must be an integer between 0 and 100");if(!this.tronWeb.isAddress(t))return n("Invalid owner address provided");var r={brokerage:parseInt(e),owner_address:rt(t)};this.tronWeb.fullNode.request("wallet/updateBrokerage",r,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}},{key:"createToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.createToken,e,t);var r=e.name,i=void 0!==r&&r,s=e.abbreviation,o=void 0!==s&&s,a=e.description,u=void 0!==a&&a,c=e.url,d=void 0!==c&&c,l=e.totalSupply,h=void 0===l?0:l,f=e.trxRatio,v=void 0===f?1:f,p=e.tokenRatio,g=void 0===p?1:p,b=e.saleStart,m=void 0===b?Date.now():b,y=e.saleEnd,k=void 0!==y&&y,x=e.freeBandwidth,w=void 0===x?0:x,A=e.freeBandwidthLimit,I=void 0===A?0:A,W=e.frozenAmount,P=void 0===W?0:W,N=e.frozenDuration,_=void 0===N?0:N,S=e.voteScore,O=e.precision;if(!this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:h},{name:"TRX ratio",type:"positive-integer",value:v},{name:"Token ratio",type:"positive-integer",value:g},{name:"token abbreviation",type:"not-empty-string",value:o},{name:"token name",type:"not-empty-string",value:i},{name:"token description",type:"not-empty-string",value:u},{name:"token url",type:"url",value:d},{name:"issuer",type:"address",value:t},{name:"sale start timestamp",type:"integer",value:m,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:k,gt:m},{name:"Free bandwidth amount",type:"integer",value:w,gte:0},{name:"Free bandwidth limit",type:"integer",value:I,gte:0},{name:"Frozen supply",type:"integer",value:P,gte:0},{name:"Frozen duration",type:"integer",value:_,gte:0}],n)){if(ze.isNotNullOrUndefined(S)&&(!ze.isInteger(S)||S<=0))return n("voteScore must be a positive integer greater than 0");if(ze.isNotNullOrUndefined(O)&&(!ze.isInteger(O)||O<=0||O>6))return n("precision must be a positive integer > 0 and <= 6");var T={owner_address:rt(t),name:it(i),abbr:it(o),description:it(u),url:it(d),total_supply:parseInt(h),trx_num:parseInt(v),num:parseInt(g),start_time:parseInt(m),end_time:parseInt(k),free_asset_net_limit:parseInt(w),public_free_asset_net_limit:parseInt(I),frozen_supply:{frozen_amount:parseInt(P),frozen_days:parseInt(_)}};!this.tronWeb.fullnodeSatisfies(">=3.5.0")||parseInt(P)>0||delete T.frozen_supply,O&&!isNaN(parseInt(O))&&(T.precision=parseInt(O)),S&&!isNaN(parseInt(S))&&(T.vote_score=parseInt(S)),e&&e.permissionId&&(T.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/createassetissue",T,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"updateAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ze.isFunction(n)&&(r=n,n={}),ze.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.updateAccount,e,t,n);if(!this.validator.notValid([{name:"Name",type:"not-empty-string",value:e},{name:"origin",type:"address",value:t}],r)){var i={account_name:it(e),owner_address:rt(t)};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/updateaccount",i,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"setAccountId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.setAccountId,e,t);e&&ze.isString(e)&&e.startsWith("0x")&&(e=e.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e},{name:"origin",type:"address",value:t}],n)||this.tronWeb.fullNode.request("wallet/setaccountid",{account_id:e,owner_address:rt(t)},"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}},{key:"updateToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)?(n=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(e=t,t=this.tronWeb.defaultAddress.hex),!n)return this.injectPromise(this.updateToken,e,t);var r=e,i=r.description,s=void 0!==i&&i,o=r.url,a=void 0!==o&&o,u=r.freeBandwidth,c=void 0===u?0:u,d=r.freeBandwidthLimit,l=void 0===d?0:d;if(!this.validator.notValid([{name:"token description",type:"not-empty-string",value:s},{name:"token url",type:"url",value:a},{name:"issuer",type:"address",value:t},{name:"Free bandwidth amount",type:"positive-integer",value:c},{name:"Free bandwidth limit",type:"positive-integer",value:l}],n)){var h={owner_address:rt(t),description:it(s),url:it(a),new_limit:parseInt(c),new_public_limit:parseInt(l)};e&&e.permissionId&&(h.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/updateasset",h,"post").then((function(e){return st(e,n)})).catch((function(e){return n(e)}))}}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"purchaseAsset",value:function(){return this.purchaseToken.apply(this,arguments)}},{key:"createAsset",value:function(){return this.createToken.apply(this,arguments)}},{key:"updateAsset",value:function(){return this.updateToken.apply(this,arguments)}},{key:"createProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ze.isFunction(n)&&(r=n,n={}),ze.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.createProposal,e,t,n);if(!this.validator.notValid([{name:"issuer",type:"address",value:t}],r)){var i="Invalid proposal parameters provided";if(!e)return r(i);ze.isArray(e)||(e=[e]);var s=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;if(!ze.isObject(d))return r(i)}}catch(e){o=!0,a=e}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}var l={owner_address:rt(t),parameters:e};n&&n.permissionId&&(l.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/proposalcreate",l,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"deleteProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ze.isFunction(n)&&(r=n,n={}),ze.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),!r)return this.injectPromise(this.deleteProposal,e,t,n);if(!this.validator.notValid([{name:"issuer",type:"address",value:t},{name:"proposalID",type:"integer",value:e,gte:0}],r)){var i={owner_address:rt(t),proposal_id:parseInt(e)};n&&n.permissionId&&(i.Permission_id=n.permissionId),this.tronWeb.fullNode.request("wallet/proposaldelete",i,"post").then((function(e){return st(e,r)})).catch((function(e){return r(e)}))}}},{key:"voteProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):ze.isObject(n)&&(r=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.voteProposal,e,t,n,r);if(!this.validator.notValid([{name:"voter",type:"address",value:n},{name:"proposalID",type:"integer",value:e,gte:0},{name:"has approval",type:"boolean",value:t}],i)){var s={owner_address:rt(n),proposal_id:parseInt(e),is_add_approval:t};r&&r.permissionId&&(s.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/proposalapprove",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"createTRXExchange",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i={}),ze.isFunction(r)?(s=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(i=r,r=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.createTRXExchange,e,t,n,r,i);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"token name",type:"not-empty-string",value:e},{name:"token balance",type:"positive-integer",value:t},{name:"trx balance",type:"positive-integer",value:n}],s)){var o={owner_address:rt(r),first_token_id:it(e),first_token_balance:t,second_token_id:"5f",second_token_balance:n};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",o,"post").then((function(e){s(null,e)})).catch((function(e){return s(e)}))}}},{key:"createTokenExchange",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(ze.isFunction(s)&&(o=s,s={}),ze.isFunction(i)?(o=i,i=this.tronWeb.defaultAddress.hex):ze.isObject(i)&&(s=i,i=this.tronWeb.defaultAddress.hex),!o)return this.injectPromise(this.createTokenExchange,e,t,n,r,i,s);if(!this.validator.notValid([{name:"owner",type:"address",value:i},{name:"first token name",type:"not-empty-string",value:e},{name:"second token name",type:"not-empty-string",value:n},{name:"first token balance",type:"positive-integer",value:t},{name:"second token balance",type:"positive-integer",value:r}],o)){var a={owner_address:rt(i),first_token_id:it(e),first_token_balance:t,second_token_id:it(n),second_token_balance:r};s&&s.permissionId&&(a.Permission_id=s.permissionId),this.tronWeb.fullNode.request("wallet/exchangecreate",a,"post").then((function(e){o(null,e)})).catch((function(e){return o(e)}))}}},{key:"injectExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i={}),ze.isFunction(r)?(s=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(i=r,r=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.injectExchangeTokens,e,t,n,r,i);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:n,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],s)){var o={owner_address:rt(r),exchange_id:parseInt(e),token_id:it(t),quant:parseInt(n)};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/exchangeinject",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"withdrawExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(ze.isFunction(i)&&(s=i,i={}),ze.isFunction(r)?(s=r,r=this.tronWeb.defaultAddress.hex):ze.isObject(r)&&(i=r,r=this.tronWeb.defaultAddress.hex),!s)return this.injectPromise(this.withdrawExchangeTokens,e,t,n,r,i);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:n,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],s)){var o={owner_address:rt(r),exchange_id:parseInt(e),token_id:it(t),quant:parseInt(n)};i&&i.permissionId&&(o.Permission_id=i.permissionId),this.tronWeb.fullNode.request("wallet/exchangewithdraw",o,"post").then((function(e){return st(e,s)})).catch((function(e){return s(e)}))}}},{key:"tradeExchangeTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(ze.isFunction(s)&&(o=s,s={}),ze.isFunction(i)?(o=i,i=this.tronWeb.defaultAddress.hex):ze.isObject(i)&&(s=i,i=this.tronWeb.defaultAddress.hex),!o)return this.injectPromise(this.tradeExchangeTokens,e,t,n,r,i,s);if(!this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:t},{name:"tokenAmountSold",type:"integer",value:n,gte:1},{name:"tokenAmountExpected",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],o)){var a={owner_address:rt(i),exchange_id:parseInt(e),token_id:this.tronWeb.fromAscii(t),quant:parseInt(n),expected:parseInt(r)};s&&s.permissionId&&(a.Permission_id=s.permissionId),this.tronWeb.fullNode.request("wallet/exchangetransaction",a,"post").then((function(e){return st(e,o)})).catch((function(e){return o(e)}))}}},{key:"updateSetting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):ze.isObject(n)&&(r=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.updateSetting,e,t,n,r);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"contract",type:"address",value:e},{name:"userFeePercentage",type:"integer",value:t,gte:0,lte:100}],i)){var s={owner_address:rt(n),contract_address:rt(e),consume_user_resource_percent:t};r&&r.permissionId&&(s.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/updatesetting",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"updateEnergyLimit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r={}),ze.isFunction(n)?(i=n,n=this.tronWeb.defaultAddress.hex):ze.isObject(n)&&(r=n,n=this.tronWeb.defaultAddress.hex),!i)return this.injectPromise(this.updateEnergyLimit,e,t,n,r);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"contract",type:"address",value:e},{name:"originEnergyLimit",type:"integer",value:t,gte:0,lte:1e7}],i)){var s={owner_address:rt(n),contract_address:rt(e),origin_energy_limit:t};r&&r.permissionId&&(s.Permission_id=r.permissionId),this.tronWeb.fullNode.request("wallet/updateenergylimit",s,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}}},{key:"checkPermissions",value:function(e,t){if(e){if(e.type!==t||!e.permission_name||!ze.isString(e.permission_name)||!ze.isInteger(e.threshold)||e.threshold<1||!e.keys)return!1;var n=!0,r=!1,i=void 0;try{for(var s,o=e.keys[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;if(!this.tronWeb.isAddress(a.address)||!ze.isInteger(a.weight)||a.weight>e.threshold||a.weight<1||2===t&&!e.operations)return!1}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return!0}},{key:"updateAccountPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ze.isFunction(r)&&(i=r,r=!1),ze.isFunction(n)&&(i=n,n=r=!1),ze.isFunction(t)&&(i=t,t=n=r=!1),!i)return this.injectPromise(this.updateAccountPermissions,e,t,n,r);if(!this.tronWeb.isAddress(e))return i("Invalid ownerAddress provided");if(!this.checkPermissions(t,0))return i("Invalid ownerPermissions provided");if(!this.checkPermissions(n,1))return i("Invalid witnessPermissions provided");Array.isArray(r)||(r=[r]);var s=!0,o=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;if(!this.checkPermissions(d,2))return i("Invalid activesPermissions provided")}}catch(e){o=!0,a=e}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}var l={owner_address:e};t&&(l.owner=t),n&&(l.witness=n),r&&(l.actives=1===r.length?r[0]:r),this.tronWeb.fullNode.request("wallet/accountpermissionupdate",l,"post").then((function(e){return st(e,i)})).catch((function(e){return i(e)}))}},{key:"newTxID",value:(i=v()(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",this.injectPromise(this.newTxID,t));case 2:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){e=e.transaction.transaction,"boolean"==typeof t.visible&&(e.visible=t.visible),n(null,e)})).catch((function(e){return n("Error generating a new transaction id.")}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"alterTransaction",value:(r=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2]){e.next=4;break}return e.abrupt("return",this.injectPromise(this.alterTransaction,t,n));case 4:if(!t.signature){e.next=6;break}return e.abrupt("return",r("You can not extend the expiration of a signed transaction."));case 6:if(!n.data){e.next=12;break}if("hex"!==n.dataFormat&&(n.data=this.tronWeb.toHex(n.data)),n.data=n.data.replace(/^0x/,""),0!==n.data.length){e.next=11;break}return e.abrupt("return",r("Invalid data provided"));case 11:t.raw_data.data=n.data;case 12:if(!n.extension){e.next=17;break}if(n.extension=parseInt(1e3*n.extension),!(isNaN(n.extension)||t.raw_data.expiration+n.extension<=Date.now()+3e3)){e.next=16;break}return e.abrupt("return",r("Invalid extension provided"));case 16:t.raw_data.expiration+=n.extension;case 17:this.newTxID(t,r);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"extendExpiration",value:(n=v()(h.a.mark((function e(t,n){var r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]&&i[2]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.extendExpiration,t,n));case 3:this.alterTransaction(t,{extension:n},r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"addUpdateData",value:(t=v()(h.a.mark((function e(t,n){var r,i,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:"utf8",i=s.length>3&&void 0!==s[3]&&s[3],ze.isFunction(r)&&(i=r,r="utf8"),i){e.next=5;break}return e.abrupt("return",this.injectPromise(this.addUpdateData,t,n,r));case 5:this.alterTransaction(t,{data:n,dataFormat:r},i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(n,!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct="Ethereum Signed Message:\n32";function dt(e){return It.address.toHex(e)}var lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m()(this,e),!t||!t instanceof It)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=Qe()(this),this.cache={contracts:{}},this.validator=new nt(t)}var t,n,r,i,s,o,a,u,c,d,l,f,p,g,b,y,x;return k()(e,[{key:"_parseToken",value:function(e){return ut({},e,{name:this.tronWeb.toUtf8(e.name),abbr:e.abbr&&this.tronWeb.toUtf8(e.abbr),description:e.description&&this.tronWeb.toUtf8(e.description),url:e.url&&this.tronWeb.toUtf8(e.url)})}},{key:"getCurrentBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getCurrentBlock);this.tronWeb.fullNode.request("wallet/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getConfirmedCurrentBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getConfirmedCurrentBlock);this.tronWeb.solidityNode.request("walletsolidity/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultBlock),t?!1===e?t("No block identifier provided"):("earliest"==e&&(e=0),"latest"==e?this.getCurrentBlock(t):isNaN(e)&&ze.isHex(e)?this.getBlockByHash(e,t):void this.getBlockByNumber(e,t)):this.injectPromise(this.getBlock,e)}},{key:"getBlockByHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getBlockByHash,e);this.tronWeb.fullNode.request("wallet/getblockbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getBlockByNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!ze.isInteger(e)||e<0?t("Invalid block number provided"):void this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(e)},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getBlockByNumber,e)}},{key:"getBlockTransactionCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultBlock),!t)return this.injectPromise(this.getBlockTransactionCount,e);this.getBlock(e).then((function(e){var n=e.transactions;t(null,(void 0===n?[]:n).length)})).catch((function(e){return t(e)}))}},{key:"getTransactionFromBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t=0),ze.isFunction(e)&&(n=e,e=this.tronWeb.defaultBlock),!n)return this.injectPromise(this.getTransactionFromBlock,e,t);this.getBlock(e).then((function(e){var r=e.transactions,i=void 0!==r&&r;i?"number"==typeof t?t>=0&&t<i.length?n(null,i[t]):n("Invalid transaction index provided"):n(null,i):n("Transaction not found in block")})).catch((function(e){return n(e)}))}},{key:"getTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getTransaction,e);this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getConfirmedTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getConfirmedTransaction,e);this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedTransactionInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransactionInfoById(e,{confirmed:!1},t)}},{key:"getTransactionInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransactionInfoById(e,{confirmed:!0},t)}},{key:"_getTransactionInfoById",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return this.injectPromise(this._getTransactionInfoById,e,t);this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request("wallet".concat(t.confirmed?"solidity":"","/gettransactioninfobyid"),{value:e},"post").then((function(e){n(null,e)})).catch((function(e){return n(e)}))}},{key:"getTransactionsToAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ze.isFunction(n)&&(r=n,n=0),ze.isFunction(t)&&(r=t,t=30),r?(e=this.tronWeb.address.toHex(e),this.getTransactionsRelated(e,"to",t,n,r)):this.injectPromise(this.getTransactionsToAddress,e,t,n)}},{key:"getTransactionsFromAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ze.isFunction(n)&&(r=n,n=0),ze.isFunction(t)&&(r=t,t=30),r?(e=this.tronWeb.address.toHex(e),this.getTransactionsRelated(e,"from",t,n,r)):this.injectPromise(this.getTransactionsFromAddress,e,t,n)}},{key:"getTransactionsRelated",value:(x=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u,c,d=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:this.tronWeb.defaultAddress.hex,n=d.length>1&&void 0!==d[1]?d[1]:"all",r=d.length>2&&void 0!==d[2]?d[2]:30,i=d.length>3&&void 0!==d[3]?d[3]:0,s=d.length>4&&void 0!==d[4]&&d[4],ze.isFunction(i)&&(s=i,i=0),ze.isFunction(r)&&(s=r,r=30),ze.isFunction(n)&&(s=n,n="all"),ze.isFunction(t)&&(s=t,t=this.tronWeb.defaultAddress.hex),s){e.next=11;break}return e.abrupt("return",this.injectPromise(this.getTransactionsRelated,t,n,r,i));case 11:if(["to","from","all"].includes(n)){e.next=13;break}return e.abrupt("return",s('Invalid direction provided: Expected "to", "from" or "all"'));case 13:if("all"!=n){e.next=27;break}return e.prev=14,e.next=17,Promise.all([this.getTransactionsRelated(t,"from",r,i),this.getTransactionsRelated(t,"to",r,i)]);case 17:return o=e.sent,a=tt()(o,2),u=a[0],c=a[1],e.abrupt("return",s(null,[].concat(L()(u.map((function(e){return e.direction="from",e}))),L()(c.map((function(e){return e.direction="to",e})))).sort((function(e,t){return t.raw_data.timestamp-e.raw_data.timestamp}))));case 24:return e.prev=24,e.t0=e.catch(14),e.abrupt("return",s(e.t0));case 27:if(this.tronWeb.isAddress(t)){e.next=29;break}return e.abrupt("return",s("Invalid address provided"));case 29:if(!(!ze.isInteger(r)||r<0||i&&r<1)){e.next=31;break}return e.abrupt("return",s("Invalid limit provided"));case 31:if(ze.isInteger(i)&&!(i<0)){e.next=33;break}return e.abrupt("return",s("Invalid offset provided"));case 33:t=this.tronWeb.address.toHex(t),this.tronWeb.solidityNode.request("walletextension/gettransactions".concat(n,"this"),{account:{address:t},offset:i,limit:r},"post").then((function(e){var t=e.transaction;s(null,t)})).catch((function(e){return s(e)}));case 35:case"end":return e.stop()}}),e,this,[[14,24]])}))),function(){return x.apply(this,arguments)})},{key:"getAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getAccount,e)}},{key:"getAccountById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getAccountById,e);this.getAccountInfoById(e,{confirmed:!0},t)}},{key:"getAccountInfoById",value:function(e,t,n){this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e}],n)||(e.startsWith("0x")&&(e=e.slice(2)),this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request("wallet".concat(t.confirmed?"solidity":"","/getaccountbyid"),{account_id:e},"post").then((function(e){n(null,e)})).catch((function(e){return n(e)})))}},{key:"getBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!t)return this.injectPromise(this.getBalance,e);this.getAccount(e).then((function(e){var n=e.balance;t(null,void 0===n?0:n)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getUnconfirmedAccount,e)}},{key:"getUnconfirmedAccountById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.injectPromise(this.getUnconfirmedAccountById,e);this.getAccountInfoById(e,{confirmed:!1},t)}},{key:"getUnconfirmedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),!t)return this.injectPromise(this.getUnconfirmedBalance,e);this.getUnconfirmedAccount(e).then((function(e){var n=e.balance;t(null,void 0===n?0:n)})).catch((function(e){return t(e)}))}},{key:"getBandwidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze.isFunction(e)&&(t=e,e=this.tronWeb.defaultAddress.hex),t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccountnet",{address:e},"post").then((function(e){var n=e.freeNetUsed,r=void 0===n?0:n,i=e.freeNetLimit,s=void 0===i?0:i,o=e.NetUsed,a=void 0===o?0:o,u=e.NetLimit;t(null,s-r+((void 0===u?0:u)-a))})).catch((function(e){return t(e)}))):t("Invalid address provided"):this.injectPromise(this.getBandwidth,e)}},{key:"getTokensIssuedByAddress",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ze.isFunction(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),n?this.tronWeb.isAddress(t)?(t=this.tronWeb.address.toHex(t),void this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:t},"post").then((function(t){var r=t.assetIssue,i=void 0!==r&&r;if(!i)return n(null,{});var s=i.map((function(t){return e._parseToken(t)})).reduce((function(e,t){return e[t.name]=t,e}),{});n(null,s)})).catch((function(e){return n(e)}))):n("Invalid address provided"):this.injectPromise(this.getTokensIssuedByAddress,t)}},{key:"getTokenFromID",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(ze.isInteger(t)&&(t=t.toString()),ze.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(t)},"post").then((function(t){if(!t.name)return n("Token does not exist");n(null,e._parseToken(t))})).catch((function(e){return n(e)})):n("Invalid token ID provided")):this.injectPromise(this.getTokenFromID,t)}},{key:"listNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return this.injectPromise(this.listNodes);this.tronWeb.fullNode.request("wallet/listnodes").then((function(n){var r=n.nodes;t(null,(void 0===r?[]:r).map((function(t){var n=t.address,r=n.host,i=n.port;return"".concat(e.tronWeb.toUtf8(r),":").concat(i)})))})).catch((function(e){return t(e)}))}},{key:"getBlockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ze.isFunction(t)&&(n=t,t=30),ze.isFunction(e)&&(n=e,e=0),n?!ze.isInteger(e)||e<0?n("Invalid start of range provided"):!ze.isInteger(t)||t<=e?n("Invalid end of range provided"):void this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(e),endNum:parseInt(t)+1},"post").then((function(e){var t=e.block;n(null,void 0===t?[]:t)})).catch((function(e){return n(e)})):this.injectPromise(this.getBlockRange,e,t)}},{key:"listSuperRepresentatives",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listSuperRepresentatives);this.tronWeb.fullNode.request("wallet/listwitnesses").then((function(t){var n=t.witnesses;e(null,void 0===n?[]:n)})).catch((function(t){return e(t)}))}},{key:"listTokens",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ze.isFunction(n)&&(r=n,n=0),ze.isFunction(t)&&(r=t,t=0),r?!ze.isInteger(t)||t<0||n&&t<1?r("Invalid limit provided"):!ze.isInteger(n)||n<0?r("Invalid offset provided"):t?void this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(n),limit:parseInt(t)},"post").then((function(t){var n=t.assetIssue;r(null,(void 0===n?[]:n).map((function(t){return e._parseToken(t)})))})).catch((function(e){return r(e)})):this.tronWeb.fullNode.request("wallet/getassetissuelist").then((function(t){var n=t.assetIssue;r(null,(void 0===n?[]:n).map((function(t){return e._parseToken(t)})))})).catch((function(e){return r(e)})):this.injectPromise(this.listTokens,t,n)}},{key:"timeUntilNextVoteCycle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.timeUntilNextVoteCycle);this.tronWeb.fullNode.request("wallet/getnextmaintenancetime").then((function(t){var n=t.num,r=void 0===n?-1:n;if(-1==r)return e("Failed to get time until next vote cycle");e(null,Math.floor(r/1e3))})).catch((function(t){return e(t)}))}},{key:"getContract",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?this.tronWeb.isAddress(e)?void(this.cache.contracts[e]?n(null,this.cache.contracts[e]):(e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getcontract",{value:e}).then((function(r){if(r.Error)return n("Contract does not exist");t.cache.contracts[e]=r,n(null,r)})).catch((function(e){return n(e)})))):n("Invalid contract address provided"):this.injectPromise(this.getContract,e)}},{key:"verifyMessage",value:(y=v()(h.a.mark((function t(){var n,r,i,s,o,a=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]&&a[0],r=a.length>1&&void 0!==a[1]&&a[1],i=a.length>2&&void 0!==a[2]?a[2]:this.tronWeb.defaultAddress.base58,s=!(a.length>3&&void 0!==a[3])||a[3],o=a.length>4&&void 0!==a[4]&&a[4],ze.isFunction(i)&&(o=i,i=this.tronWeb.defaultAddress.base58,s=!0),ze.isFunction(s)&&(o=s,s=!0),o){t.next=9;break}return t.abrupt("return",this.injectPromise(this.verifyMessage,n,r,i,s));case 9:if(ze.isHex(n)){t.next=11;break}return t.abrupt("return",o("Expected hex message input"));case 11:if(!e.verifySignature(n,i,r,s)){t.next=13;break}return t.abrupt("return",o(null,!0));case 13:o("Signature does not match");case 14:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"sign",value:(b=v()(h.a.mark((function t(){var n,r,i,s,o,a,u=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>0&&void 0!==u[0]&&u[0],r=u.length>1&&void 0!==u[1]?u[1]:this.tronWeb.defaultPrivateKey,i=!(u.length>2&&void 0!==u[2])||u[2],s=u.length>3&&void 0!==u[3]&&u[3],o=u.length>4&&void 0!==u[4]&&u[4],ze.isFunction(s)&&(o=s,s=!1),ze.isFunction(i)&&(o=i,i=!0,s=!1),ze.isFunction(r)&&(o=r,r=this.tronWeb.defaultPrivateKey,i=!0,s=!1),o){t.next=10;break}return t.abrupt("return",this.injectPromise(this.sign,n,r,i,s));case 10:if(!ze.isString(n)){t.next=21;break}if(ze.isHex(n)){t.next=13;break}return t.abrupt("return",o("Expected hex message input"));case 13:return t.prev=13,a=e.signString(n,r,i),t.abrupt("return",o(null,a));case 18:t.prev=18,t.t0=t.catch(13),o(t.t0);case 21:if(ze.isObject(n)){t.next=23;break}return t.abrupt("return",o("Invalid transaction provided"));case 23:if(s||!n.signature){t.next=25;break}return t.abrupt("return",o("Transaction is already signed"));case 25:if(t.prev=25,s){t.next=30;break}if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(r)).toLowerCase()===n.raw_data.contract[0].parameter.value.owner_address.toLowerCase()){t.next=30;break}return t.abrupt("return",o("Private key does not match address in transaction"));case 30:return t.abrupt("return",o(null,ze.crypto.signTransaction(r,n)));case 33:t.prev=33,t.t1=t.catch(25),o(t.t1);case 36:case"end":return t.stop()}}),t,this,[[13,18],[25,33]])}))),function(){return b.apply(this,arguments)})},{key:"multiSign",value:(g=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]?u[1]:this.tronWeb.defaultPrivateKey,r=u.length>2&&void 0!==u[2]&&u[2],i=u.length>3&&void 0!==u[3]&&u[3],ze.isFunction(r)&&(i=r,r=0),ze.isFunction(n)&&(i=n,n=this.tronWeb.defaultPrivateKey,r=0),i){e.next=8;break}return e.abrupt("return",this.injectPromise(this.multiSign,t,n,r));case 8:if(ze.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=10;break}return e.abrupt("return",i("Invalid transaction provided"));case 10:if(t.raw_data.contract[0].Permission_id||!(r>0)){e.next=30;break}return t.raw_data.contract[0].Permission_id=r,s=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(n)).toLowerCase(),e.next=15,this.getSignWeight(t,r);case 15:if("PERMISSION_ERROR"!==(o=e.sent).result.code){e.next=18;break}return e.abrupt("return",i(o.result.message));case 18:if(a=!1,o.permission.keys.map((function(e){e.address===s&&(a=!0)})),a){e.next=22;break}return e.abrupt("return",i(n+" has no permission to sign"));case 22:if(!o.approved_list||-1==o.approved_list.indexOf(s)){e.next=24;break}return e.abrupt("return",i(n+" already sign transaction"));case 24:if(!o.transaction||!o.transaction.transaction){e.next=29;break}t=o.transaction.transaction,r>0&&(t.raw_data.contract[0].Permission_id=r),e.next=30;break;case 29:return e.abrupt("return",i("Invalid transaction provided"));case 30:return e.prev=30,e.abrupt("return",i(null,ze.crypto.signTransaction(n,t)));case 34:e.prev=34,e.t0=e.catch(30),i(e.t0);case 37:case"end":return e.stop()}}),e,this,[[30,34]])}))),function(){return g.apply(this,arguments)})},{key:"getApprovedList",value:(p=v()(h.a.mark((function e(t){var n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.getApprovedList,t));case 3:if(ze.isObject(t)){e.next=5;break}return e.abrupt("return",n("Invalid transaction provided"));case 5:this.tronWeb.fullNode.request("wallet/getapprovedlist",t,"post").then((function(e){n(null,e)})).catch((function(e){return n(e)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getSignWeight",value:(f=v()(h.a.mark((function e(t,n){var r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]&&i[2],ze.isFunction(n)&&(r=n,n=void 0),r){e.next=4;break}return e.abrupt("return",this.injectPromise(this.getSignWeight,t,n));case 4:if(ze.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=6;break}return e.abrupt("return",r("Invalid transaction provided"));case 6:if(ze.isInteger(n)?t.raw_data.contract[0].Permission_id=parseInt(n):"number"!=typeof t.raw_data.contract[0].Permission_id&&(t.raw_data.contract[0].Permission_id=0),ze.isObject(t)){e.next=9;break}return e.abrupt("return",r("Invalid transaction provided"));case 9:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){r(null,e)})).catch((function(e){return r(e)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"sendRawTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ze.isFunction(t)&&(n=t,t={}),n?ze.isObject(e)?ze.isObject(t)?e.signature&&ze.isArray(e.signature)?void this.tronWeb.fullNode.request("wallet/broadcasttransaction",e,"post").then((function(t){t.result&&(t.transaction=e),n(null,t)})).catch((function(e){return n(e)})):n("Transaction is not signed"):n("Invalid options provided"):n("Invalid transaction provided"):this.injectPromise(this.sendRawTransaction,e,t)}},{key:"sendTransaction",value:(l=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],n=c.length>1&&void 0!==c[1]&&c[1],r=c.length>2&&void 0!==c[2]?c[2]:{},i=c.length>3&&void 0!==c[3]&&c[3],ze.isFunction(r)&&(i=r,r={}),"string"==typeof r&&(r={privateKey:r}),i){e.next=8;break}return e.abrupt("return",this.injectPromise(this.sendTransaction,t,n,r));case 8:if(this.tronWeb.isAddress(t)){e.next=10;break}return e.abrupt("return",i("Invalid recipient provided"));case 10:if(ze.isInteger(n)&&!(n<=0)){e.next=12;break}return e.abrupt("return",i("Invalid amount provided"));case 12:if((r=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},r)).privateKey||r.address){e.next=15;break}return e.abrupt("return",i("Function requires either a private key or address to be set"));case 15:return e.prev=15,s=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,e.next=19,this.tronWeb.transactionBuilder.sendTrx(t,n,s);case 19:return o=e.sent,e.next=22,this.sign(o,r.privateKey||void 0);case 22:return a=e.sent,e.next=25,this.sendRawTransaction(a);case 25:return u=e.sent,e.abrupt("return",i(null,u));case 29:return e.prev=29,e.t0=e.catch(15),e.abrupt("return",i(e.t0));case 32:case"end":return e.stop()}}),e,this,[[15,29]])}))),function(){return l.apply(this,arguments)})},{key:"sendToken",value:(d=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u,c,d=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],n=d.length>1&&void 0!==d[1]&&d[1],r=d.length>2&&void 0!==d[2]&&d[2],i=d.length>3&&void 0!==d[3]?d[3]:{},s=d.length>4&&void 0!==d[4]&&d[4],ze.isFunction(i)&&(s=i,i={}),"string"==typeof i&&(i={privateKey:i}),s){e.next=9;break}return e.abrupt("return",this.injectPromise(this.sendToken,t,n,r,i));case 9:if(this.tronWeb.isAddress(t)){e.next=11;break}return e.abrupt("return",s("Invalid recipient provided"));case 11:if(ze.isInteger(n)&&!(n<=0)){e.next=13;break}return e.abrupt("return",s("Invalid amount provided"));case 13:if(ze.isInteger(r)&&(r=r.toString()),ze.isString(r)){e.next=16;break}return e.abrupt("return",s("Invalid token ID provided"));case 16:if((i=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},i)).privateKey||i.address){e.next=19;break}return e.abrupt("return",s("Function requires either a private key or address to be set"));case 19:return e.prev=19,o=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,e.next=23,this.tronWeb.transactionBuilder.sendToken(t,n,r,o);case 23:return a=e.sent,e.next=26,this.sign(a,i.privateKey||void 0);case 26:return u=e.sent,e.next=29,this.sendRawTransaction(u);case 29:return c=e.sent,e.abrupt("return",s(null,c));case 33:return e.prev=33,e.t0=e.catch(19),e.abrupt("return",s(e.t0));case 36:case"end":return e.stop()}}),e,this,[[19,33]])}))),function(){return d.apply(this,arguments)})},{key:"freezeBalance",value:(c=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u,c,d,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:0,n=l.length>1&&void 0!==l[1]?l[1]:3,r=l.length>2&&void 0!==l[2]?l[2]:"BANDWIDTH",i=l.length>3&&void 0!==l[3]?l[3]:{},s=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]&&l[5],ze.isFunction(s)&&(o=s,s=void 0),ze.isFunction(n)&&(o=n,n=3),ze.isFunction(r)&&(o=r,r="BANDWIDTH"),ze.isFunction(i)&&(o=i,i={}),"string"==typeof i&&(i={privateKey:i}),o){e.next=13;break}return e.abrupt("return",this.injectPromise(this.freezeBalance,t,n,r,i,s));case 13:if(["BANDWIDTH","ENERGY"].includes(r)){e.next=15;break}return e.abrupt("return",o('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 15:if(ze.isInteger(t)&&!(t<=0)){e.next=17;break}return e.abrupt("return",o("Invalid amount provided"));case 17:if(ze.isInteger(n)&&!(n<3)){e.next=19;break}return e.abrupt("return",o("Invalid duration provided, minimum of 3 days"));case 19:if((i=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},i)).privateKey||i.address){e.next=22;break}return e.abrupt("return",o("Function requires either a private key or address to be set"));case 22:return e.prev=22,a=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,e.next=26,this.tronWeb.transactionBuilder.freezeBalance(t,n,r,a,s);case 26:return u=e.sent,e.next=29,this.sign(u,i.privateKey||void 0);case 29:return c=e.sent,e.next=32,this.sendRawTransaction(c);case 32:return d=e.sent,e.abrupt("return",o(null,d));case 36:return e.prev=36,e.t0=e.catch(22),e.abrupt("return",o(e.t0));case 39:case"end":return e.stop()}}),e,this,[[22,36]])}))),function(){return c.apply(this,arguments)})},{key:"unfreezeBalance",value:(u=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:"BANDWIDTH",n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]&&c[3],ze.isFunction(r)&&(i=r,r=void 0),ze.isFunction(t)&&(i=t,t="BANDWIDTH"),ze.isFunction(n)&&(i=n,n={}),"string"==typeof n&&(n={privateKey:n}),i){e.next=10;break}return e.abrupt("return",this.injectPromise(this.unfreezeBalance,t,n,r));case 10:if(["BANDWIDTH","ENERGY"].includes(t)){e.next=12;break}return e.abrupt("return",i('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 12:if((n=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},n)).privateKey||n.address){e.next=15;break}return e.abrupt("return",i("Function requires either a private key or address to be set"));case 15:return e.prev=15,s=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,e.next=19,this.tronWeb.transactionBuilder.unfreezeBalance(t,s,r);case 19:return o=e.sent,e.next=22,this.sign(o,n.privateKey||void 0);case 22:return a=e.sent,e.next=25,this.sendRawTransaction(a);case 25:return u=e.sent,e.abrupt("return",i(null,u));case 29:return e.prev=29,e.t0=e.catch(15),e.abrupt("return",i(e.t0));case 32:case"end":return e.stop()}}),e,this,[[15,29]])}))),function(){return u.apply(this,arguments)})},{key:"updateAccount",value:(a=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]&&u[2],ze.isFunction(n)&&(r=n,n={}),"string"==typeof n&&(n={privateKey:n}),r){e.next=7;break}return e.abrupt("return",this.injectPromise(this.updateAccount,t,n));case 7:if(ze.isString(t)&&t.length){e.next=9;break}return e.abrupt("return",r("Name must be a string"));case 9:if((n=ut({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},n)).privateKey||n.address){e.next=12;break}return e.abrupt("return",r("Function requires either a private key or address to be set"));case 12:return e.prev=12,i=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,e.next=16,this.tronWeb.transactionBuilder.updateAccount(t,i);case 16:return s=e.sent,e.next=19,this.sign(s,n.privateKey||void 0);case 19:return o=e.sent,e.next=22,this.sendRawTransaction(o);case 22:return a=e.sent,e.abrupt("return",r(null,a));case 26:return e.prev=26,e.t0=e.catch(12),e.abrupt("return",r(e.t0));case 29:case"end":return e.stop()}}),e,this,[[12,26]])}))),function(){return a.apply(this,arguments)})},{key:"signMessage",value:function(){return this.sign.apply(this,arguments)}},{key:"sendAsset",value:function(){return this.sendToken.apply(this,arguments)}},{key:"send",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"sendTrx",value:function(){return this.sendTransaction.apply(this,arguments)}},{key:"broadcast",value:function(){return this.sendRawTransaction.apply(this,arguments)}},{key:"signTransaction",value:function(){return this.sign.apply(this,arguments)}},{key:"getProposal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!ze.isInteger(e)||e<0?t("Invalid proposalID provided"):void this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(e)},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getProposal,e)}},{key:"listProposals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listProposals);this.tronWeb.fullNode.request("wallet/listproposals",{},"post").then((function(t){var n=t.proposals;e(null,void 0===n?[]:n)})).catch((function(t){return e(t)}))}},{key:"getChainParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getChainParameters);this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post").then((function(t){var n=t.chainParameter;e(null,void 0===n?[]:n)})).catch((function(t){return e(t)}))}},{key:"getAccountResources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this.tronWeb.isAddress(e)?void this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(e)},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):t("Invalid address provided"):this.injectPromise(this.getAccountResources,e)}},{key:"getExchangeByID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?!ze.isInteger(e)||e<0?t("Invalid exchangeID provided"):void this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getExchangeByID,e)}},{key:"listExchanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.listExchanges);this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then((function(t){var n=t.exchanges;e(null,void 0===n?[]:n)}),"post").catch((function(t){return e(t)}))}},{key:"listExchangesPaginated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ze.isFunction(t)&&(n=t,t=0),ze.isFunction(e)&&(n=e,e=30),!n)return this.injectPromise(this.listExchanges);this.tronWeb.fullNode.request("wallet/listexchangespaginated",{limit:e,offset:t},"post").then((function(e){var t=e.exchanges;n(null,void 0===t?[]:t)})).catch((function(e){return n(e)}))}},{key:"getNodeInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return this.injectPromise(this.getNodeInfo);this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post").then((function(t){e(null,t)}),"post").catch((function(t){return e(t)}))}},{key:"getTokenListByName",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(ze.isInteger(t)&&(t=t.toString()),ze.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(t)},"post").then((function(t){if(!t.name)return n("Token does not exist");n(null,e._parseToken(t))})).catch((function(e){return n(e)})):n("Invalid token ID provided")):this.injectPromise(this.getTokenListByName,t)}},{key:"getTokenByID",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(ze.isInteger(t)&&(t=t.toString()),ze.isString(t)&&t.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:t},"post").then((function(t){if(!t.name)return n("Token does not exist");n(null,e._parseToken(t))})).catch((function(e){return n(e)})):n("Invalid token ID provided")):this.injectPromise(this.getTokenByID,t)}},{key:"getReward",value:(o=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.confirmed=!0,e.abrupt("return",this._getReward(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getUnconfirmedReward",value:(s=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.confirmed=!1,e.abrupt("return",this._getReward(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getBrokerage",value:(i=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.confirmed=!0,e.abrupt("return",this._getBrokerage(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getUnconfirmedBrokerage",value:(r=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.confirmed=!1,e.abrupt("return",this._getBrokerage(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_getReward",value:(n=v()(h.a.mark((function e(){var t,n,r,i,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:this.tronWeb.defaultAddress.hex,n=s.length>1?s[1]:void 0,r=s.length>2&&void 0!==s[2]&&s[2],ze.isFunction(n)&&(r=n,n={}),ze.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),r){e.next=7;break}return e.abrupt("return",this.injectPromise(this._getReward,t,n));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],r)){e.next=9;break}return e.abrupt("return");case 9:i={address:dt(t)},this.tronWeb[n.confirmed?"solidityNode":"fullNode"].request("wallet".concat(n.confirmed?"solidity":"","/getReward"),i,"post").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.reward)return r("Not found.");r(null,e.reward)})).catch((function(e){return r(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_getBrokerage",value:(t=v()(h.a.mark((function e(){var t,n,r,i,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:this.tronWeb.defaultAddress.hex,n=s.length>1?s[1]:void 0,r=s.length>2&&void 0!==s[2]&&s[2],ze.isFunction(n)&&(r=n,n={}),ze.isFunction(t)?(r=t,t=this.tronWeb.defaultAddress.hex):ze.isObject(t)&&(n=t,t=this.tronWeb.defaultAddress.hex),r){e.next=7;break}return e.abrupt("return",this.injectPromise(this._getBrokerage,t,n));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],r)){e.next=9;break}return e.abrupt("return");case 9:i={address:dt(t)},this.tronWeb[n.confirmed?"solidityNode":"fullNode"].request("wallet".concat(n.confirmed?"solidity":"","/getBrokerage"),i,"post").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.brokerage)return r("Not found.");r(null,e.brokerage)})).catch((function(e){return r(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"verifySignature",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=e.replace(/^0x/,""),n=n.replace(/^0x/,"");var i=[].concat(L()(le(r?"TRON Signed Message:\n32":ct)),L()(ze.code.hexStr2byteArray(e))),s=ce(i),o=he(s,{recoveryParam:"1c"==n.substring(128,130)?1:0,r:"0x"+n.substring(0,64),s:"0x"+n.substring(64,128)}),a=K+o.substr(2),u=It.address.fromHex(a);return u==It.address.fromHex(t)}},{key:"signString",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=e.replace(/^0x/,"");var r=new fe(t),i=[].concat(L()(le(n?"TRON Signed Message:\n32":ct)),L()(ze.code.hexStr2byteArray(e))),s=ce(i),o=r.signDigest(s),a=["0x",o.r.substring(2),o.s.substring(2),Number(o.v).toString(16)].join("");return a}}]),e}();function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(e){return e.name+"("+pt(e.inputs||[]).join(",")+")"},pt=function(e){return e.map((function(e){return e.type}))},gt=function(e,t){var n=e.map((function(e){return e.name})).filter((function(e){return!!e})),r=e.map((function(e){return e.type}));return ze.abi.decodeParams(n,r,t)},bt=function(){function e(t,n){m()(this,e),this.tronWeb=t.tronWeb,this.contract=t,this.abi=n,this.name=n.name||(n.name=n.type),this.inputs=n.inputs||[],this.outputs=n.outputs||[],this.functionSelector=vt(n),this.signature=this.tronWeb.sha3(this.functionSelector,!1).slice(0,8),this.injectPromise=Qe()(this),this.defaultOptions={feeLimit:1e9,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}var t,n,r;return k()(e,[{key:"decodeInput",value:function(e){return gt(this.inputs,"0x"+e)}},{key:"onMethod",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pt(this.inputs);return n.forEach((function(t,r){"address"==i[r]&&(n[r]=e.tronWeb.address.toHex(t).replace(z,"0x")),"address[]"==i[r]&&(n[r]=n[r].map((function(t){return e.tronWeb.address.toHex(t).replace(z,"0x")})))})),{call:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e._call.apply(e,[i,n].concat(r))},send:function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e._send.apply(e,[i,n].concat(r))},watch:function(){return e._watch.apply(e,arguments)}}}},{key:"_call",value:(r=v()(h.a.mark((function e(t,n){var r,i,s,o,a=this,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{},i=u.length>3&&void 0!==u[3]&&u[3],ze.isFunction(r)&&(i=r,r={}),i){e.next=5;break}return e.abrupt("return",this.injectPromise(this._call,t,n,r));case 5:if(t.length===n.length){e.next=7;break}return e.abrupt("return",i("Invalid argument count provided"));case 7:if(this.contract.address){e.next=9;break}return e.abrupt("return",i("Smart contract is missing address"));case 9:if(this.contract.deployed){e.next=11;break}return e.abrupt("return",i("Calling smart contracts requires you to load the contract first"));case 11:if(s=this.abi.stateMutability,["pure","view"].includes(s.toLowerCase())){e.next=14;break}return e.abrupt("return",i('Methods with state mutability "'.concat(s,'" must use send()')));case 14:r=ft({},this.defaultOptions,{from:this.tronWeb.defaultAddress.hex},r),o=n.map((function(e,n){return{type:t[n],value:e}})),this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,r,o,!!r.from&&this.tronWeb.address.toHex(r.from),(function(e,t){if(e)return i(e);if(!ze.hasProperty(t,"constant_result"))return i("Failed to execute");try{var n=t.constant_result[0].length;if(0===n||n%64==8){var r="The call has been reverted or has thrown an error.";if(0!==n){r+=" Error message: ";for(var s="",o=t.constant_result[0].substring(8),u=0;u<n-8;u+=64)s+=a.tronWeb.toUtf8(o.substring(u,u+64));r+=s.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}return i(r)}var c=gt(a.outputs,"0x"+t.constant_result[0]);return 1===c.length&&(c=c[0]),i(null,c)}catch(e){return i(e)}}));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_send",value:(n=v()(h.a.mark((function e(t,n){var r,i,s,o,a,u,c,d,l,f,p,g=this,b=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>2&&void 0!==b[2]?b[2]:{},i=b.length>3&&void 0!==b[3]?b[3]:this.tronWeb.defaultPrivateKey,s=b.length>4&&void 0!==b[4]&&b[4],ze.isFunction(i)&&(s=i,i=this.tronWeb.defaultPrivateKey),ze.isFunction(r)&&(s=r,r={}),s){e.next=7;break}return e.abrupt("return",this.injectPromise(this._send,t,n,r,i));case 7:if(t.length===n.length){e.next=9;break}throw new Error("Invalid argument count provided");case 9:if(this.contract.address){e.next=11;break}return e.abrupt("return",s("Smart contract is missing address"));case 11:if(this.contract.deployed){e.next=13;break}return e.abrupt("return",s("Calling smart contracts requires you to load the contract first"));case 13:if(o=this.abi.stateMutability,!["pure","view"].includes(o.toLowerCase())){e.next=16;break}return e.abrupt("return",s('Methods with state mutability "'.concat(o,'" must use call()')));case 16:return["payable"].includes(o.toLowerCase())||(r.callValue=0),r=ft({},this.defaultOptions,{from:this.tronWeb.defaultAddress.hex},r),a=n.map((function(e,n){return{type:t[n],value:e}})),e.prev=19,u=i?this.tronWeb.address.fromPrivateKey(i):this.tronWeb.defaultAddress.base58,e.next=23,this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,r,a,this.tronWeb.address.toHex(u));case 23:if((c=e.sent).result&&c.result.result){e.next=26;break}return e.abrupt("return",s("Unknown error: "+JSON.stringify(c,null,2)));case 26:return e.next=28,this.tronWeb.trx.sign(c.transaction,i);case 28:if((d=e.sent).signature){e.next=33;break}if(i){e.next=32;break}return e.abrupt("return",s("Transaction was not signed properly"));case 32:return e.abrupt("return",s("Invalid private key provided"));case 33:return e.next=35,this.tronWeb.trx.sendRawTransaction(d);case 35:if(!(l=e.sent).code){e.next=40;break}return f={error:l.code,message:l.code},l.message&&(f.message=this.tronWeb.toUtf8(l.message)),e.abrupt("return",s(f));case 40:if(r.shouldPollResponse){e.next=42;break}return e.abrupt("return",s(null,d.txID));case 42:(p=function(){var e=v()(h.a.mark((function e(){var t,n,i,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(20!=(t=o.length>0&&void 0!==o[0]?o[0]:0)){e.next=3;break}return e.abrupt("return",s({error:"Cannot find result in solidity node",transaction:d}));case 3:return e.next=5,g.tronWeb.trx.getTransactionInfo(d.txID);case 5:if(n=e.sent,Object.keys(n).length){e.next=8;break}return e.abrupt("return",setTimeout((function(){p(t+1)}),3e3));case 8:if(!n.result||"FAILED"!=n.result){e.next=10;break}return e.abrupt("return",s({error:g.tronWeb.toUtf8(n.resMessage),transaction:d,output:n}));case 10:if(ze.hasProperty(n,"contractResult")){e.next=12;break}return e.abrupt("return",s({error:"Failed to execute: "+JSON.stringify(n,null,2),transaction:d,output:n}));case 12:if(!r.rawResponse){e.next=14;break}return e.abrupt("return",s(null,n));case 14:return 1===(i=gt(g.outputs,"0x"+n.contractResult[0])).length&&(i=i[0]),e.abrupt("return",s(null,i));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())(),e.next=49;break;case 46:return e.prev=46,e.t0=e.catch(19),e.abrupt("return",s(e.t0));case 49:case"end":return e.stop()}}),e,this,[[19,46]])}))),function(e,t){return n.apply(this,arguments)})},{key:"_watch",value:(t=v()(h.a.mark((function e(){var t,n,r,i,s,o,a,u=this,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1&&void 0!==c[1]&&c[1],ze.isFunction(t)&&(n=t,t={}),ze.isFunction(n)){e.next=5;break}throw new Error("Expected callback to be provided");case 5:if(this.contract.address){e.next=7;break}return e.abrupt("return",n("Smart contract is missing address"));case 7:if(this.abi.type&&/event/i.test(this.abi.type)){e.next=9;break}return e.abrupt("return",n("Invalid method type for event watching"));case 9:if(this.tronWeb.eventServer){e.next=11;break}return e.abrupt("return",n("No event server configured"));case 11:return r=!1,i=!1,s=Date.now()-1e3,o=function(){var e=v()(h.a.mark((function e(){var n,r,o,a,c,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={since:s,eventName:u.name,sort:"block_timestamp",blockNumber:"latest",filters:t.filters},t.resourceNode&&(/full/i.test(t.resourceNode)?n.onlyUnconfirmed=!0:n.onlyConfirmed=!0),e.next=5,u.tronWeb.event.getEventsByContractAddress(u.contract.address,n);case 5:return r=e.sent,o=r.sort((function(e,t){return t.block-e.block})),a=tt()(o,1),c=a[0],d=r.filter((function(e,n){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||r.slice(0,n).some((function(t){return JSON.stringify(t)==JSON.stringify(e)}))||i&&!(e.block>i))})),c&&(i=c.block),e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),a=function(){r&&clearInterval(r),r=setInterval((function(){o().then((function(e){return e.forEach((function(e){n(null,ze.parseEvent(e,u.abi))}))})).catch((function(e){return n(e)}))}),3e3)},e.next=18,o();case 18:return a(),e.abrupt("return",{start:a(),stop:function(){r&&(clearInterval(r),r=!1)}});case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(m()(this,e),!t||!t instanceof It)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=Qe()(this),this.address=r,this.abi=n,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],this.tronWeb.isAddress(r)?this.deployed=!0:this.address=!1,this.loadAbi(n)}var t,n,r,i;return k()(e,[{key:"_getEvents",value:(i=v()(h.a.mark((function e(){var t,n,r,i,s,o,a=this,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.tronWeb.event.getEventsByContractAddress(this.address,t);case 3:return n=e.sent,r=n.sort((function(e,t){return t.block-e.block})),i=tt()(r,1),s=i[0],o=n.filter((function(e,r){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||n.slice(0,r).some((function(t){return JSON.stringify(t)==JSON.stringify(e)}))||a.lastBlock&&!(e.block>a.lastBlock))})),s&&(this.lastBlock=s.block),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_startEventListener",value:(r=v()(h.a.mark((function e(){var t,n,r=this,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1?i[1]:void 0,ze.isFunction(t)&&(n=t,t={}),this.eventListener&&clearInterval(this.eventListener),this.tronWeb.eventServer){e.next=6;break}throw new Error("Event server is not configured");case 6:if(this.address){e.next=8;break}throw new Error("Contract is not configured with an address");case 8:return this.eventCallback=n,e.next=11,this._getEvents(t);case 11:this.eventListener=setInterval((function(){r._getEvents(t).then((function(e){return e.forEach((function(e){r.eventCallback&&r.eventCallback(e)}))})).catch((function(e){console.error("Failed to get event list",e)}))}),3e3);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_stopEventListener",value:function(){this.eventListener&&(clearInterval(this.eventListener),this.eventListener=!1,this.eventCallback=!1)}},{key:"hasProperty",value:function(e){return this.hasOwnProperty(e)||this.__proto__.hasOwnProperty(e)}},{key:"loadAbi",value:function(e){var t=this;this.abi=e,this.methods={},this.props.forEach((function(e){return delete t[e]})),e.forEach((function(e){if(e.type&&!/constructor/i.test(e.type)){var n=new bt(t,e),r=n.onMethod.bind(n),i=n.name,s=n.functionSelector,o=n.signature;t.methods[i]=r,t.methods[s]=r,t.methods[o]=r,t.methodInstances[i]=n,t.methodInstances[s]=n,t.methodInstances[o]=n,t.hasProperty(i)||(t[i]=r,t.props.push(i)),t.hasProperty(s)||(t[s]=r,t.props.push(s)),t.hasProperty(o)||(t[o]=r,t.props.push(o))}}))}},{key:"decodeInput",value:function(e){var t=e.substring(0,8),n=e.substring(8);if(!this.methodInstances[t])throw new Error("Contract method "+t+" not found");return{name:this.methodInstances[t].name,params:this.methodInstances[t].decodeInput(n)}}},{key:"new",value:(n=v()(h.a.mark((function e(t){var n,r,i,s,o,a,u=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:this.tronWeb.defaultPrivateKey,r=u.length>2&&void 0!==u[2]&&u[2],ze.isFunction(n)&&(r=n,n=this.tronWeb.defaultPrivateKey),r){e.next=5;break}return e.abrupt("return",this.injectPromise(this.new,t,n));case 5:return e.prev=5,i=this.tronWeb.address.fromPrivateKey(n),e.next=9,this.tronWeb.transactionBuilder.createSmartContract(t,i);case 9:return s=e.sent,e.next=12,this.tronWeb.trx.sign(s,n);case 12:return o=e.sent,e.next=15,this.tronWeb.trx.sendRawTransaction(o);case 15:if(!(a=e.sent).code){e.next=18;break}return e.abrupt("return",r({error:a.code,message:this.tronWeb.toUtf8(a.message)}));case 18:return e.next=20,ze.sleep(3e3);case 20:return e.abrupt("return",this.at(o.contract_address,r));case 23:return e.prev=23,e.t0=e.catch(5),e.abrupt("return",r(e.t0));case 26:case"end":return e.stop()}}),e,this,[[5,23]])}))),function(e){return n.apply(this,arguments)})},{key:"at",value:(t=v()(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.at,t));case 3:return e.prev=3,e.next=6,this.tronWeb.trx.getContract(t);case 6:if((r=e.sent).contract_address){e.next=9;break}return e.abrupt("return",n("Unknown error: "+JSON.stringify(r,null,2)));case 9:return this.address=r.contract_address,this.bytecode=r.bytecode,this.deployed=!0,this.loadAbi(r.abi.entrys),e.abrupt("return",n(null,this));case 16:if(e.prev=16,e.t0=e.catch(3),!e.t0.toString().includes("does not exist")){e.next=20;break}return e.abrupt("return",n("Contract has not been deployed on the network"));case 20:return e.abrupt("return",n(e.t0));case 21:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(e){return t.apply(this,arguments)})},{key:"events",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ze.isFunction(e)&&(t=e,e={}),!ze.isFunction(t))throw new Error("Callback function expected");var n=this;return{start:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r?(n._startEventListener(e,t).then((function(){r()})).catch((function(e){r(e)})),this):(n._startEventListener(e,t),this)},stop:function(){n._stopEventListener()}}}}]),e}(),yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m()(this,e),!t||!t instanceof It)throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.pluginNoOverride=["register"],this.disablePlugins=n.disablePlugins}return k()(e,[{key:"register",value:function(e,t){var n={requires:"0.0.0",components:{}},r={libs:[],plugged:[],skipped:[]};if(this.disablePlugins)return r.error="This instance of TronWeb has plugins disabled.",r;var i=new e(this.tronWeb);if(ze.isFunction(i.pluginInterface)&&(n=i.pluginInterface(t)),!Xe.a.satisfies(It.version,n.requires))throw new Error("The plugin is not compatible with this version of TronWeb");if(n.fullClass){var s=i.constructor.name,o=s.substring(0,1).toLowerCase()+s.substring(1);s!==o&&(It[s]=e,this.tronWeb[o]=i,r.libs.push(s))}else for(var a in n.components)if(this.tronWeb.hasOwnProperty(a)){var u=n.components[a],c=this.tronWeb[a].pluginNoOverride||[];for(var d in u)"constructor"===d||this.tronWeb[a][d]&&(c.includes(d)||/^_/.test(d))?r.skipped.push(d):(this.tronWeb[a][d]=u[d].bind(this.tronWeb[a]),r.plugged.push(d))}return r}}]),e}(),kt=r(21),xt=r.n(kt),wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m()(this,e),!(t&&t instanceof It))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.injectPromise=Qe()(this)}return k()(e,[{key:"setServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"healthcheck";if(!t)return this.tronWeb.eventServer=!1;if(ze.isString(t)&&(t=new Me.HttpProvider(t)),!this.tronWeb.isValidProvider(t))throw new Error("Invalid event server provided");this.tronWeb.eventServer=t,this.tronWeb.eventServer.isConnected=function(){return e.tronWeb.eventServer.request(n).then((function(){return!0})).catch((function(){return!1}))}}},{key:"getEventsByContractAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.assign({sinceTimestamp:0,eventName:!1,blockNumber:!1,size:20,page:1},t),i=r.sinceTimestamp,s=r.since,o=r.fromTimestamp,a=r.eventName,u=r.blockNumber,c=r.size,d=r.page,l=r.onlyConfirmed,h=r.onlyUnconfirmed,f=r.previousLastEventFingerprint,v=r.previousFingerprint,p=r.fingerprint,b=r.rawResponse,m=r.sort,y=r.filters;if(!n)return this.injectPromise(this.getEventsByContractAddress,e,t);if(o=o||i||s,!this.tronWeb.eventServer)return n("No event server configured");var k=[];if(!this.tronWeb.isAddress(e))return n("Invalid contract address provided");if(a&&!e)return n("Usage of event name filtering requires a contract address");if(void 0!==o&&!ze.isInteger(o))return n("Invalid fromTimestamp provided");if(!ze.isInteger(c))return n("Invalid size provided");if(c>200&&(console.warn("Defaulting to maximum accepted size: 200"),c=200),!ze.isInteger(d))return n("Invalid page provided");if(u&&!a)return n("Usage of block number filtering requires an event name");e&&k.push(this.tronWeb.address.fromHex(e)),a&&k.push(a),u&&k.push(u);var x={size:c,page:d};return"object"===g()(y)&&Object.keys(y).length>0&&(x.filters=JSON.stringify(y)),o&&(x.fromTimestamp=x.since=o),l&&(x.onlyConfirmed=l),h&&!l&&(x.onlyUnconfirmed=h),m&&(x.sort=m),(p=p||v||f)&&(x.fingerprint=p),this.tronWeb.eventServer.request("event/contract/".concat(k.join("/"),"?").concat(xt.a.stringify(x))).then((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?ze.isArray(e)?n(null,!0===b?e:e.map((function(e){return ze.mapEvent(e)}))):n(e):n("Unknown error occurred")})).catch((function(e){return n(e.response&&e.response.data||e)}))}},{key:"getEventsByTransactionID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ze.isFunction(t)&&(n=t,t={}),n?this.tronWeb.eventServer?this.tronWeb.eventServer.request("event/transaction/".concat(e)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?ze.isArray(e)?n(null,!0===t.rawResponse?e:e.map((function(e){return ze.mapEvent(e)}))):n(e):n("Unknown error occurred")})).catch((function(e){return n(e.response&&e.response.data||e)})):n("No event server configured"):this.injectPromise(this.getEventsByTransactionID,e,t)}}]),e}();r.d(n,"default",(function(){return It}));var At="3.5.0",It=function(e){function n(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return m()(this,n),e=w()(this,I()(n).call(this)),"object"===g()(r)&&(r.fullNode||r.fullHost)?(t=r.fullNode||r.fullHost,i=r.solidityNode||r.fullHost,s=r.eventServer||r.fullHost,o=r.privateKey):t=r,ze.isString(t)&&(t=new Me.HttpProvider(t)),ze.isString(i)&&(i=new Me.HttpProvider(i)),ze.isString(s)&&(s=new Me.HttpProvider(s)),e.event=new wt(P()(e)),e.transactionBuilder=new ot(P()(e)),e.trx=new lt(P()(e)),e.plugin=new yt(P()(e),r),e.utils=ze,e.setFullNode(t),e.setSolidityNode(i),e.setEventServer(s),e.providers=Me,e.BigNumber=Le.a,e.defaultBlock=!1,e.defaultPrivateKey=!1,e.defaultAddress={hex:!1,base58:!1},["sha3","toHex","toUtf8","fromUtf8","toAscii","fromAscii","toDecimal","fromDecimal","toSun","fromSun","toBigNumber","isAddress","createAccount","address","version"].forEach((function(t){e[t]=n[t]})),o&&e.setPrivateKey(o),e.fullnodeVersion=At,e.injectPromise=Qe()(P()(e)),e}var r,i,s;return _()(n,e),k()(n,[{key:"getFullnodeVersion",value:(s=v()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.trx.getNodeInfo();case 3:t=e.sent,this.fullnodeVersion=t.configNodeInfo.codeVersion,2===this.fullnodeVersion.split(".").length&&(this.fullnodeVersion+=".0"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.fullnodeVersion=At;case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return s.apply(this,arguments)})},{key:"setDefaultBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if([!1,"latest","earliest",0].includes(e))return this.defaultBlock=e;if(!ze.isInteger(e)||!e)throw new Error("Invalid block ID provided");this.defaultBlock=Math.abs(e)}},{key:"setPrivateKey",value:function(e){try{this.setAddress(this.address.fromPrivateKey(e))}catch(e){throw new Error("Invalid private key provided")}this.defaultPrivateKey=e,this.emit("privateKeyChanged",e)}},{key:"setAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid address provided");var t=this.address.toHex(e),n=this.address.fromHex(e);this.defaultPrivateKey&&this.address.fromPrivateKey(this.defaultPrivateKey)!==n&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:t,base58:n},this.emit("addressChanged",{hex:t,base58:n})}},{key:"fullnodeSatisfies",value:function(e){return Xe.a.satisfies(this.fullnodeVersion,e)}},{key:"isValidProvider",value:function(e){return Object.values(Me).some((function(t){return e instanceof t}))}},{key:"setFullNode",value:function(e){if(ze.isString(e)&&(e=new Me.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid full node provided");this.fullNode=e,this.fullNode.setStatusPage("wallet/getnowblock"),this.getFullnodeVersion()}},{key:"setSolidityNode",value:function(e){if(ze.isString(e)&&(e=new Me.HttpProvider(e)),!this.isValidProvider(e))throw new Error("Invalid solidity node provided");this.solidityNode=e,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}},{key:"setEventServer",value:function(){var e;(e=this.event).setServer.apply(e,arguments)}},{key:"currentProviders",value:function(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}},{key:"currentProvider",value:function(){return this.currentProviders()}},{key:"getEventResult",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"object"!==g()(n[1])&&(n[1]={sinceTimestamp:n[1]||0,eventName:n[2]||!1,blockNumber:n[3]||!1,size:n[4]||20,page:n[5]||1},n.splice(2,4),ze.isFunction(n[2])||(ze.isFunction(n[1].page)?(n[2]=n[1].page,n[1].page=1):ze.isFunction(n[1].size)&&(n[2]=n[1].size,n[1].size=20,n[1].page=1))),(e=this.event).getEventsByContractAddress.apply(e,n)}},{key:"getEventByTransactionID",value:function(){var e;return(e=this.event).getEventsByTransactionID.apply(e,arguments)}},{key:"contract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new mt(this,e,t)}},{key:"isConnected",value:(i=v()(h.a.mark((function e(){var t,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0]){e.next=3;break}return e.abrupt("return",this.injectPromise(this.isConnected));case 3:return e.t0=t,e.next=6,this.fullNode.isConnected();case 6:return e.t1=e.sent,e.next=9,this.solidityNode.isConnected();case 9:if(e.t2=e.sent,e.t3=this.eventServer,!e.t3){e.next=15;break}return e.next=14,this.eventServer.isConnected();case 14:e.t3=e.sent;case 15:return e.t4=e.t3,e.t5={fullNode:e.t1,solidityNode:e.t2,eventServer:e.t4},e.abrupt("return",(0,e.t0)(null,e.t5));case 18:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],[{key:"sha3",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(n?"0x":"")+ce(t.from(e,"utf-8")).toString().substring(2)}},{key:"toHex",value:function(e){if(ze.isBoolean(e))return n.fromDecimal(+e);if(ze.isBigNumber(e))return n.fromDecimal(e);if("object"===g()(e))return n.fromUtf8(JSON.stringify(e));if(ze.isString(e)){if(/^(-|)0x/.test(e))return e;if(!isFinite(e))return n.fromUtf8(e)}var t=n.fromDecimal(e);if("0xNaN"===t)throw new Error("The passed value is not convertible to a hex string");return t}},{key:"toUtf8",value:function(e){if(ze.isHex(e))return e=e.replace(/^0x/,""),t.from(e,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}},{key:"fromUtf8",value:function(e){if(!ze.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+t.from(e,"utf8").toString("hex")}},{key:"toAscii",value:function(e){if(ze.isHex(e)){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var i=parseInt(e.substr(n,2),16);t+=String.fromCharCode(i)}return t}throw new Error("The passed value is not a valid hex string")}},{key:"fromAscii",value:function(e,n){if(!ze.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+t.from(e,"ascii").toString("hex").padEnd(n,"0")}},{key:"toDecimal",value:function(e){return n.toBigNumber(e).toNumber()}},{key:"fromDecimal",value:function(e){var t=n.toBigNumber(e),r=t.toString(16);return t.isLessThan(0)?"-0x"+r.substr(1):"0x"+r}},{key:"fromSun",value:function(e){var t=n.toBigNumber(e).div(1e6);return ze.isBigNumber(e)?t:t.toString(10)}},{key:"toSun",value:function(e){var t=n.toBigNumber(e).times(1e6);return ze.isBigNumber(e)?t:t.toString(10)}},{key:"toBigNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return ze.isBigNumber(e)?e:ze.isString(e)&&/^(-|)0x/.test(e)?new Le.a(e.replace("0x",""),16):new Le.a(e.toString(10),10)}},{key:"isAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!ze.isString(e))return!1;if(42===e.length)try{return n.isAddress(ze.crypto.getBase58CheckAddress(ze.code.hexStr2byteArray(e)))}catch(e){return!1}try{return ze.crypto.isAddressValid(e)}catch(e){return!1}}},{key:"createAccount",value:(r=v()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ze.accounts.generateAccount(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"address",get:function(){return{fromHex:function(e){return ze.isHex(e)?ze.crypto.getBase58CheckAddress(ze.code.hexStr2byteArray(e.replace(/^0x/,K))):e},toHex:function(e){return ze.isHex(e)?e.toLowerCase().replace(/^0x/,K):ze.code.byteArray2hexStr(ze.crypto.decodeBase58Address(e)).toLowerCase()},fromPrivateKey:function(e){try{return ze.crypto.pkToAddress(e)}catch(e){return!1}}}}}]),n}(Je.a);O()(It,"providers",Me),O()(It,"BigNumber",Le.a),O()(It,"TransactionBuilder",ot),O()(It,"Trx",lt),O()(It,"Contract",mt),O()(It,"Plugin",yt),O()(It,"Event",wt),O()(It,"version",Ye.a),O()(It,"utils",ze)}]).default}).call(this,n("HDXh").Buffer)},"g2/l":function(e,t,n){var r;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",d=c+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,f=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function b(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=h-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function y(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function k(e,t,n,r){if(e<t||e>n||e!==(e<0?a(e):u(e)))throw Error(c+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function x(e){return"[object Array]"==Object.prototype.toString.call(e)}function w(e){var t=e.c.length-1;return b(e.e/h)==t&&e.c[t]%2!=0}function A(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function I(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(s=function e(t){var n,r,i,s,W,P,N,_,S,O=K.prototype={constructor:K,toString:null,valueOf:null},T=new K(1),j=20,E=4,B=-7,F=21,C=-1e7,D=1e7,q=!1,R=1,U=0,L={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},H="0123456789abcdefghijklmnopqrstuvwxyz";function K(e,t){var n,s,a,c,l,v,p,g,b=this;if(!(b instanceof K))return new K(e,t);if(null==t){if(e instanceof K)return b.s=e.s,b.e=e.e,void(b.c=(e=e.c)?e.slice():e);if((v="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,l=e;l>=10;l/=10,c++);return b.e=c,void(b.c=[e])}g=e+""}else{if(!o.test(g=e+""))return i(b,g,v);b.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(c=g.indexOf("."))>-1&&(g=g.replace(".","")),(l=g.search(/e/i))>0?(c<0&&(c=l),c+=+g.slice(l+1),g=g.substring(0,l)):c<0&&(c=g.length)}else{if(k(t,2,H.length,"Base"),g=e+"",10==t)return G(b=new K(e instanceof K?e:g),j+b.e+1,E);if(v="number"==typeof e){if(0*e!=0)return i(b,g,v,t);if(b.s=1/e<0?(g=g.slice(1),-1):1,K.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(d+e);v=!1}else b.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=H.slice(0,t),c=l=0,p=g.length;l<p;l++)if(n.indexOf(s=g.charAt(l))<0){if("."==s){if(l>c){c=p;continue}}else if(!a&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){a=!0,l=-1,c=0;continue}return i(b,e+"",v,t)}(c=(g=r(g,t,10,b.s)).indexOf("."))>-1?g=g.replace(".",""):c=g.length}for(l=0;48===g.charCodeAt(l);l++);for(p=g.length;48===g.charCodeAt(--p););if(g=g.slice(l,++p)){if(p-=l,v&&K.DEBUG&&p>15&&(e>f||e!==u(e)))throw Error(d+b.s*e);if((c=c-l-1)>D)b.c=b.e=null;else if(c<C)b.c=[b.e=0];else{if(b.e=c,b.c=[],l=(c+1)%h,c<0&&(l+=h),l<p){for(l&&b.c.push(+g.slice(0,l)),p-=h;l<p;)b.c.push(+g.slice(l,l+=h));g=g.slice(l),l=h-g.length}else l-=p;for(;l--;g+="0");b.c.push(+g)}}else b.c=[b.e=0]}function V(e,t,n,r){var i,s,o,a,u;if(null==n?n=E:k(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=m(e.c),u=1==r||2==r&&o<=B?A(u,o):I(u,o,"0");else if(s=(e=G(new K(e),t,n)).e,a=(u=m(e.c)).length,1==r||2==r&&(t<=s||s<=B)){for(;a<t;u+="0",a++);u=A(u,s)}else if(t-=o,u=I(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function z(e,t){var n,r,i=0;for(x(e[0])&&(e=e[0]),n=new K(e[0]);++i<e.length;){if(!(r=new K(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function M(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*h-1)>D?e.c=e.e=null:n<C?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var i,s,o,c,d,f,p,g=e.c,b=v;if(g){e:{for(i=1,c=g[0];c>=10;c/=10,i++);if((s=t-i)<0)s+=h,o=t,p=(d=g[f=0])/b[i-o-1]%10|0;else if((f=a((s+1)/h))>=g.length){if(!r)break e;for(;g.length<=f;g.push(0));d=p=0,i=1,o=(s%=h)-h+1}else{for(d=c=g[f],i=1;c>=10;c/=10,i++);p=(o=(s%=h)-h+i)<0?0:d/b[i-o-1]%10|0}if(r=r||t<0||null!=g[f+1]||(o<0?d:d%b[i-o-1]),r=n<4?(p||r)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(s>0?o>0?d/b[i-o]:0:g[f-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(h-t%h)%h],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=f,c=1,f--):(g.length=f+1,c=b[h-s],g[f]=o>0?u(d/b[i-o]%b[o])*c:0),r)for(;;){if(0==f){for(s=1,o=g[0];o>=10;o/=10,s++);for(o=g[0]+=c,c=1;o>=10;o/=10,c++);s!=c&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[f]+=c,g[f]!=l)break;g[f--]=0,c=1}for(s=g.length;0===g[--s];g.pop());}e.e>D?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}return K.clone=e,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(k(n=e[t],0,g,t),j=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(k(n=e[t],0,8,t),E=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(x(n=e[t])?(k(n[0],-g,0,t),k(n[1],0,g,t),B=n[0],F=n[1]):(k(n,-g,g,t),B=-(F=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(x(n=e[t]))k(n[0],-g,-1,t),k(n[1],1,g,t),C=n[0],D=n[1];else{if(k(n,-g,g,t),!n)throw Error(c+t+" cannot be zero: "+n);C=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(c+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw q=!n,Error(c+"crypto unavailable");q=n}else q=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(k(n=e[t],0,9,t),R=n),e.hasOwnProperty(t="POW_PRECISION")&&(k(n=e[t],0,g,t),U=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(c+t+" not an object: "+n);L=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|\.|(.).*\1/.test(n))throw Error(c+t+" invalid: "+n);H=n}}return{DECIMAL_PLACES:j,ROUNDING_MODE:E,EXPONENTIAL_AT:[B,F],RANGE:[C,D],CRYPTO:q,MODULO_MODE:R,POW_PRECISION:U,FORMAT:L,ALPHABET:H}},K.isBigNumber=function(e){return e instanceof K||e&&!0===e._isBigNumber||!1},K.maximum=K.max=function(){return z(arguments,O.lt)},K.minimum=K.min=function(){return z(arguments,O.gt)},K.random=(s=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,d=0,l=[],f=new K(T);if(null==e?e=j:k(e,0,g),i=a(e/h),q)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));d<i;)(o=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(l.push(o%1e14),d+=2);d=i/2}else{if(!crypto.randomBytes)throw q=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(i*=7);d<i;)(o=281474976710656*(31&t[d])+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(l.push(o%1e14),d+=7);d=i/7}if(!q)for(;d<i;)(o=s())<9e15&&(l[d++]=o%1e14);for(i=l[--d],e%=h,i&&e&&(o=v[h-e],l[d]=u(i/o)*o);0===l[d];l.pop(),d--);if(d<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=h);for(d=1,o=l[0];o>=10;o/=10,d++);d<h&&(r-=h-d)}return f.e=r,f.c=l,f}),r=function(){function e(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(t,r,i,s,o){var a,u,c,d,l,h,f,v,p=t.indexOf("."),g=j,b=E;for(p>=0&&(d=U,U=0,t=t.replace(".",""),h=(v=new K(r)).pow(t.length-p),U=d,v.c=e(I(m(h.c),h.e,"0"),10,i,"0123456789"),v.e=v.c.length),c=d=(f=e(t,r,i,o?(a=H,"0123456789"):(a="0123456789",H))).length;0==f[--d];f.pop());if(!f[0])return a.charAt(0);if(p<0?--c:(h.c=f,h.e=c,h.s=s,f=(h=n(h,v,g,b,i)).c,l=h.r,c=h.e),p=f[u=c+g+1],d=i/2,l=l||u<0||null!=f[u+1],l=b<4?(null!=p||l)&&(0==b||b==(h.s<0?3:2)):p>d||p==d&&(4==b||l||6==b&&1&f[u-1]||b==(h.s<0?8:7)),u<1||!f[0])t=l?I(a.charAt(1),-g,a.charAt(0)):a.charAt(0);else{if(f.length=u,l)for(--i;++f[--u]>i;)f[u]=0,u||(++c,f=[1].concat(f));for(d=f.length;!f[--d];);for(p=0,t="";p<=d;t+=a.charAt(f[p++]));t=I(t,c,a.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%p,d=t/p|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%p)+(r=d*s+(o=e[u]/p|0)*c)%p*p+a)/n|0)+(r/p|0)+d*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,a){var c,d,f,v,p,g,m,y,k,x,w,A,I,W,P,N,_,S=r.s==i.s?1:-1,O=r.c,T=i.c;if(!(O&&O[0]&&T&&T[0]))return new K(r.s&&i.s&&(O?!T||O[0]!=T[0]:T)?O&&0==O[0]||!T?0*S:S/0:NaN);for(k=(y=new K(S)).c=[],S=s+(d=r.e-i.e)+1,a||(a=l,d=b(r.e/h)-b(i.e/h),S=S/h|0),f=0;T[f]==(O[f]||0);f++);if(T[f]>(O[f]||0)&&d--,S<0)k.push(1),v=!0;else{for(W=O.length,N=T.length,f=0,S+=2,(p=u(a/(T[0]+1)))>1&&(T=e(T,p,a),O=e(O,p,a),N=T.length,W=O.length),I=N,w=(x=O.slice(0,N)).length;w<N;x[w++]=0);_=T.slice(),_=[0].concat(_),P=T[0],T[1]>=a/2&&P++;do{if(p=0,(c=t(T,x,N,w))<0){if(A=x[0],N!=w&&(A=A*a+(x[1]||0)),(p=u(A/P))>1)for(p>=a&&(p=a-1),m=(g=e(T,p,a)).length,w=x.length;1==t(g,x,m,w);)p--,n(g,N<m?_:T,m,a),m=g.length,c=1;else 0==p&&(c=p=1),m=(g=T.slice()).length;if(m<w&&(g=[0].concat(g)),n(x,g,w,a),w=x.length,-1==c)for(;t(T,x,N,w)<1;)p++,n(x,N<w?_:T,w,a),w=x.length}else 0===c&&(p++,x=[0]);k[f++]=p,x[0]?x[w++]=O[I]||0:(x=[O[I]],w=1)}while((I++<W||null!=x[0])&&S--);v=null!=x[0],k[0]||k.splice(0,1)}if(a==l){for(f=1,S=k[0];S>=10;S/=10,f++);G(y,s+(y.e=f+d*h-1)+1,o,v)}else y.e=d,y.r=+v;return y}}(),W=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,N=/^\.([^.]+)$/,_=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(S,"");if(_.test(s))e.s=isNaN(s)?null:s<0?-1:1,e.c=e.e=null;else{if(!n&&(s=s.replace(W,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(P,"$1").replace(N,"0.$1")),t!=s))return new K(s,i);if(K.DEBUG)throw Error(c+"Not a"+(r?" base "+r:"")+" number: "+t);e.c=e.e=e.s=null}},O.absoluteValue=O.abs=function(){var e=new K(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return y(this,new K(e,t))},O.decimalPlaces=O.dp=function(e,t){var n,r,i,s=this;if(null!=e)return k(e,0,g),null==t?t=E:k(t,0,8),G(new K(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-b(this.e/h))*h,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(e,t){return n(this,new K(e,t),j,E)},O.dividedToIntegerBy=O.idiv=function(e,t){return n(this,new K(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var n,r,i,s,o,d,l,f=this;if((e=new K(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+e);if(null!=t&&(t=new K(t)),s=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return l=new K(Math.pow(+f.valueOf(),s?2-w(e):+e)),t?l.mod(t):l;if(o=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new K(NaN);(r=!o&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||s&&f.c[1]>=24e7:f.c[0]<8e13||s&&f.c[0]<=9999975e7)))return i=f.s<0&&w(e)?-0:0,f.e>-1&&(i=1/i),new K(o?1/i:i);U&&(i=a(U/h+2))}for(s?(n=new K(.5),d=w(e)):d=e%2,o&&(e.s=1),l=new K(T);;){if(d){if(!(l=l.times(f)).c)break;i?l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}if(s){if(G(e=e.times(n),e.e+1,1),!e.c[0])break;s=e.e>14,d=w(e)}else{if(!(e=u(e/2)))break;d=e%2}f=f.times(f),i?f.c&&f.c.length>i&&(f.c.length=i):r&&(f=f.mod(t))}return r?l:(o&&(l=T.div(l)),t?l.mod(t):i?G(l,U,E,void 0):l)},O.integerValue=function(e){var t=new K(this);return null==e?e=E:k(e,0,8),G(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===y(this,new K(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return y(this,new K(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=y(this,new K(e,t)))||0===t},O.isInteger=function(){return!!this.c&&b(this.e/h)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return y(this,new K(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=y(this,new K(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new K(e,t)).s,!a||!t)return new K(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/h,c=e.e/h,d=o.c,f=e.c;if(!u||!c){if(!d||!f)return d?(e.s=-t,e):new K(f?o:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new K(d[0]?o:3==E?-0:0)}if(u=b(u),c=b(c),d=d.slice(),a=u-c){for((s=a<0)?(a=-a,i=d):(c=u,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=d.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(d[t]!=f[t]){s=d[t]<f[t];break}if(s&&(i=d,d=f,f=i,e.s=-e.s),(t=(r=f.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=l-1;r>a;){if(d[--r]<f[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=l}d[r]-=f[r]}for(;0==d[0];d.splice(0,1),--c);return d[0]?M(e,d,c):(e.s=3==E?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var r,i,s=this;return e=new K(e,t),!s.c||!e.s||e.c&&!e.c[0]?new K(NaN):!e.c||s.c&&!s.c[0]?new K(s):(9==R?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,R),(e=s.minus(r.times(e))).c[0]||1!=R||(e.s=s.s),e)},O.multipliedBy=O.times=function(e,t){var n,r,i,s,o,a,u,c,d,f,v,g,m,y,k,x=this,w=x.c,A=(e=new K(e,t)).c;if(!(w&&A&&w[0]&&A[0]))return!x.s||!e.s||w&&!w[0]&&!A||A&&!A[0]&&!w?e.c=e.e=e.s=null:(e.s*=x.s,w&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=b(x.e/h)+b(e.e/h),e.s*=x.s,(u=w.length)<(f=A.length)&&(m=w,w=A,A=m,i=u,u=f,f=i),i=u+f,m=[];i--;m.push(0));for(y=l,k=p,i=f;--i>=0;){for(n=0,v=A[i]%k,g=A[i]/k|0,s=i+(o=u);s>i;)n=((c=v*(c=w[--o]%k)+(a=g*c+(d=w[o]/k|0)*v)%k*k+m[s]+n)/y|0)+(a/k|0)+g*d,m[s--]=c%y;m[s]=n}return n?++r:m.splice(0,1),M(e,m,r)},O.negated=function(){var e=new K(this);return e.s=-e.s||null,e},O.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new K(e,t)).s,!i||!t)return new K(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/h,o=e.e/h,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new K(i/0);if(!a[0]||!u[0])return u[0]?e:new K(a[0]?r:0*i)}if(s=b(s),o=b(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/l|0,a[t]=l===a[t]?0:a[t]%l;return i&&(a=[i].concat(a),++o),M(e,a,o)},O.precision=O.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return k(e,1,g),null==t?t=E:k(t,0,8),G(new K(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*h+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},O.shiftedBy=function(e){return k(e,-f,f),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,d=j+4,l=new K("0.5");if(1!==u||!a||!a[0])return new K(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+o))||u==1/0?(((t=m(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=b((c+1)/2)-(c<0||c%2),r=new K(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new K(u+""),r.c[0])for((u=(c=r.e)+d)<3&&(u=0);;)if(s=r,r=l.times(s.plus(n(o,s,d,1))),m(s.c).slice(0,u)===(t=m(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+j+2,1),e=!r.times(r).eq(o));break}if(!i&&(G(s,s.e+j+2,0),s.times(s).eq(o))){r=s;break}d+=4,u+=4,i=1}return G(r,r.e+j+1,E,e)},O.toExponential=function(e,t){return null!=e&&(k(e,0,g),e++),V(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(k(e,0,g),e=e+this.e+1),V(this,e,t)},O.toFormat=function(e,t){var n=this.toFixed(e,t);if(this.c){var r,i=n.split("."),s=+L.groupSize,o=+L.secondaryGroupSize,a=L.groupSeparator,u=i[0],c=i[1],d=this.s<0,l=d?u.slice(1):u,h=l.length;if(o&&(r=s,s=o,o=r,h-=r),s>0&&h>0){for(r=h%s||s,u=l.substr(0,r);r<h;r+=s)u+=a+l.substr(r,s);o>0&&(u+=a+l.slice(r)),d&&(u="-"+u)}n=c?u+L.decimalSeparator+((o=+L.fractionGroupSize)?c.replace(new RegExp("\\d{"+o+"}\\B","g"),"$&"+L.fractionGroupSeparator):c):u}return n},O.toFraction=function(e){var t,r,i,s,o,a,u,d,l,f,p,g,b=this,y=b.c;if(null!=e&&(!(d=new K(e)).isInteger()&&(d.c||1!==d.s)||d.lt(T)))throw Error(c+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+e);if(!y)return b.toString();for(r=new K(T),f=i=new K(T),s=l=new K(T),g=m(y),a=r.e=g.length-b.e-1,r.c[0]=v[(u=a%h)<0?h+u:u],e=!e||d.comparedTo(r)>0?a>0?r:f:d,u=D,D=1/0,d=new K(g),l.c[0]=0;p=n(d,r,0,1),1!=(o=i.plus(p.times(s))).comparedTo(e);)i=s,s=o,f=l.plus(p.times(o=f)),l=o,r=d.minus(p.times(o=r)),d=o;return o=n(e.minus(i),s,0,1),l=l.plus(o.times(f)),i=i.plus(o.times(s)),l.s=f.s=b.s,t=n(f,s,a*=2,E).minus(b).abs().comparedTo(n(l,i,a,E).minus(b).abs())<1?[f.toString(),s.toString()]:[l.toString(),i.toString()],D=u,t},O.toNumber=function(){return+this},O.toPrecision=function(e,t){return null!=e&&k(e,1,g),V(this,e,t,2)},O.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(t=m(n.c),null==e?t=s<=B||s>=F?A(t,s):I(t,s,"0"):(k(e,2,H.length,"Base"),t=r(I(t,s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=m(t.c),e=n<=B||n>=F?A(e,n):I(e,n,"0"),t.s<0?"-"+e:e)},O._isBigNumber=!0,null!=t&&K.set(t),K}()).default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}}]);