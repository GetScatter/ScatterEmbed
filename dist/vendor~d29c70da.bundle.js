(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"4lM6":function(t,r,e){"use strict";var n=e("F/us"),o=e("OdSp").errors,i=e("uhBA");function s(t){i.call(this),this.id=null,this.callback=n.identity,this.arguments=null,this._reconnectIntervalId=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype._extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},s.prototype._validateArgs=function(t){var r=this.options.subscription;if(r||(r={}),r.params||(r.params=0),t.length!==r.params)throw o.InvalidNumberOfParams(t.length,r.params+1,t[0])},s.prototype._formatInput=function(t){var r=this.options.subscription;return r&&r.inputFormatter?r.inputFormatter.map((function(r,e){return r?r(t[e]):t[e]})):t},s.prototype._formatOutput=function(t){var r=this.options.subscription;return r&&r.outputFormatter&&t?r.outputFormatter(t):t},s.prototype._toPayload=function(t){var r=[];if(this.callback=this._extractCallback(t)||n.identity,this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),r.push(this.subscriptionMethod),r=r.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:r}},s.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.removeAllListeners(),clearInterval(this._reconnectIntervalId)},s.prototype.subscribe=function(){var t=this,r=Array.prototype.slice.call(arguments),e=this._toPayload(r);if(!e)return this;if(!this.options.requestManager.provider){var o=new Error("No provider set.");return this.callback(o,null,this),this.emit("error",o),this}if(!this.options.requestManager.provider.on){var i=new Error("The current provider doesn't support subscriptions: "+this.options.requestManager.provider.constructor.name);return this.callback(i,null,this),this.emit("error",i),this}return this.id&&this.unsubscribe(),this.options.params=e.params[1],"logs"===e.params[0]&&n.isObject(e.params[1])&&e.params[1].hasOwnProperty("fromBlock")&&isFinite(e.params[1].fromBlock)&&this.options.requestManager.send({method:"eth_getLogs",params:[e.params[1]]},(function(r,e){r?(t.callback(r,null,t),t.emit("error",r)):e.forEach((function(r){var e=t._formatOutput(r);t.callback(null,e,t),t.emit("data",e)}))})),"object"==typeof e.params[1]&&delete e.params[1].fromBlock,this.options.requestManager.send(e,(function(r,o){!r&&o?(t.id=o,t.options.requestManager.addSubscription(t.id,e.params[0],t.options.type,(function(r,e){r?(t.options.requestManager.removeSubscription(t.id),t.options.requestManager.provider.once&&(t._reconnectIntervalId=setInterval((function(){t.options.requestManager.provider.reconnect&&t.options.requestManager.provider.reconnect()}),500),t.options.requestManager.provider.once("connect",(function(){clearInterval(t._reconnectIntervalId),t.subscribe(t.callback)}))),t.emit("error",r),t.callback(r,null,t)):(n.isArray(e)||(e=[e]),e.forEach((function(r){var e=t._formatOutput(r);if(n.isFunction(t.options.subscription.subscriptionHandler))return t.options.subscription.subscriptionHandler.call(t,e);t.emit("data",e),t.callback(null,e,t)})))}))):(t.callback(r,null,t),t.emit("error",r))})),this},t.exports=s},"74Te":function(t,r,e){"use strict";var n,o=null;try{n=Function("return this")()}catch(t){n=window}void 0!==n.ethereumProvider?o=n.ethereumProvider:void 0!==n.web3&&n.web3.currentProvider&&(n.web3.currentProvider.sendAsync&&(n.web3.currentProvider.send=n.web3.currentProvider.sendAsync,delete n.web3.currentProvider.sendAsync),!n.web3.currentProvider.on&&n.web3.currentProvider.connection&&"ipcProviderWrapper"===n.web3.currentProvider.connection.constructor.name&&(n.web3.currentProvider.on=function(t,r){if("function"!=typeof r)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.connection.on("data",(function(t){var e="";t=t.toString();try{e=JSON.parse(t)}catch(e){return r(new Error("Couldn't parse response data"+t))}e.id||-1===e.method.indexOf("_subscription")||r(null,e)}));break;default:this.connection.on(t,r)}}),o=n.web3.currentProvider),t.exports=o},"8e6A":function(t,r,e){"use strict";var n=e("F2wZ"),o=e("PCH3");t.exports={packageInit:function(t,r){if(r=Array.prototype.slice.call(r),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:function(){return t._provider},set:function(r){return t.setProvider(r)},enumerable:!0,configurable:!0}),r[0]&&r[0]._requestManager?t._requestManager=new n.Manager(r[0].currentProvider):(t._requestManager=new n.Manager,t._requestManager.setProvider(r[0],r[1])),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=function(r,e){return t._requestManager.setProvider(r,e),t._provider=t._requestManager.provider,!0}),t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=o(t)},addProviders:function(t){t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}},"F1/f":function(t,r,e){"use strict";var n=e("F/us"),o=e("ETH1"),i=e("2lMq"),s=function(t){return o.toBN(t).toString(10)},a=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:o.isHexStrict(t)?n.isString(t)?t.toLowerCase():t:o.numberToHex(t)},c=function(t){if(t.to&&(t.to=p(t.to)),t.data&&t.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!o.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),["gasPrice","gas","value","nonce"].filter((function(r){return void 0!==t[r]})).forEach((function(r){t[r]=o.numberToHex(t[r])})),t},u=function(t){return null!==t.blockNumber&&(t.blockNumber=o.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=o.hexToNumber(t.transactionIndex)),t.nonce=o.hexToNumber(t.nonce),t.gas=o.hexToNumber(t.gas),t.gasPrice=s(t.gasPrice),t.value=s(t.value),t.to&&o.isAddress(t.to)?t.to=o.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=o.toChecksumAddress(t.from)),t},l=function(t){if("string"==typeof t.blockHash&&"string"==typeof t.transactionHash&&"string"==typeof t.logIndex){var r=o.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+r.replace("0x","").substr(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=o.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=o.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=o.hexToNumber(t.logIndex)),t.address&&(t.address=o.toChecksumAddress(t.address)),t},p=function(t){var r=new i(t);if(r.isValid()&&r.isDirect())return r.toAddress().toLowerCase();if(o.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error('Provided address "'+t+"\" is invalid, the capitalization checksum test failed, or its an indrect IBAN address which can't be converted.")};t.exports={inputDefaultBlockNumberFormatter:function(t){return this&&null==t?this.defaultBlock:"genesis"===t||"earliest"===t?"0x0":a(t)},inputBlockNumberFormatter:a,inputCallFormatter:function(t){var r=(t=c(t)).from||(this?this.defaultAccount:null);return r&&(t.from=p(r)),t},inputTransactionFormatter:function(t){if(t=c(t),!n.isNumber(t.from)&&!n.isObject(t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&!n.isNumber(t.from))throw new Error('The send transactions "from" field must be defined!');t.from=p(t.from)}return t},inputAddressFormatter:p,inputPostFormatter:function(t){return t.ttl&&(t.ttl=o.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=o.numberToHex(t.workToProve)),t.priority&&(t.priority=o.numberToHex(t.priority)),n.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map((function(t){return 0===t.indexOf("0x")?t:o.fromUtf8(t)})),t},inputLogFormatter:function(t){var r=function(t){return null==t?null:0===(t=String(t)).indexOf("0x")?t:o.fromUtf8(t)};return t.fromBlock&&(t.fromBlock=a(t.fromBlock)),t.toBlock&&(t.toBlock=a(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map((function(t){return n.isArray(t)?t.map(r):r(t)})),r=null,t.address&&(t.address=n.isArray(t.address)?t.address.map((function(t){return p(t)})):p(t.address)),t},inputSignFormatter:function(t){return o.isHexStrict(t)?t:o.utf8ToHex(t)},outputBigNumberFormatter:s,outputTransactionFormatter:u,outputTransactionReceiptFormatter:function(t){if("object"!=typeof t)throw new Error("Received receipt is invalid: "+t);return null!==t.blockNumber&&(t.blockNumber=o.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=o.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=o.hexToNumber(t.cumulativeGasUsed),t.gasUsed=o.hexToNumber(t.gasUsed),n.isArray(t.logs)&&(t.logs=t.logs.map(l)),t.contractAddress&&(t.contractAddress=o.toChecksumAddress(t.contractAddress)),void 0!==t.status&&(t.status=Boolean(parseInt(t.status))),t},outputBlockFormatter:function(t){return t.gasLimit=o.hexToNumber(t.gasLimit),t.gasUsed=o.hexToNumber(t.gasUsed),t.size=o.hexToNumber(t.size),t.timestamp=o.hexToNumber(t.timestamp),null!==t.number&&(t.number=o.hexToNumber(t.number)),t.difficulty&&(t.difficulty=s(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=s(t.totalDifficulty)),n.isArray(t.transactions)&&t.transactions.forEach((function(t){if(!n.isString(t))return u(t)})),t.miner&&(t.miner=o.toChecksumAddress(t.miner)),t},outputLogFormatter:l,outputPostFormatter:function(t){return t.expiry=o.hexToNumber(t.expiry),t.sent=o.hexToNumber(t.sent),t.ttl=o.hexToNumber(t.ttl),t.workProved=o.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map((function(t){return o.toUtf8(t)})),t},outputSyncingFormatter:function(t){return t.startingBlock=o.hexToNumber(t.startingBlock),t.currentBlock=o.hexToNumber(t.currentBlock),t.highestBlock=o.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=o.hexToNumber(t.knownStates),t.pulledStates=o.hexToNumber(t.pulledStates)),t}}},F2wZ:function(t,r,e){"use strict";var n=e("F/us"),o=e("OdSp").errors,i=e("Y2yK"),s=e("WKtK"),a=e("74Te"),c=function t(r){this.provider=null,this.providers=t.providers,this.setProvider(r),this.subscriptions={}};c.givenProvider=a,c.providers={WebsocketProvider:e("PDys"),HttpProvider:e("gUgm"),IpcProvider:e("k6B8")},c.prototype.setProvider=function(t,r){var e=this;if(t&&"string"==typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"==typeof r&&"function"==typeof r.connect)t=new this.providers.IpcProvider(t,r);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on&&this.provider.on("data",(function(t,r){(t=t||r).method&&e.subscriptions[t.params.subscription]&&e.subscriptions[t.params.subscription].callback&&e.subscriptions[t.params.subscription].callback(null,t.params.result)}))},c.prototype.send=function(t,r){if(r=r||function(){},!this.provider)return r(o.InvalidProvider());var e=i.toPayload(t.method,t.params);this.provider[this.provider.sendAsync?"sendAsync":"send"](e,(function(t,n){return n&&n.id&&e.id!==n.id?r(new Error('Wrong response id "'+n.id+'" (expected: "'+e.id+'") in '+JSON.stringify(e))):t?r(t):n&&n.error?r(o.ErrorResponse(n)):i.isValidResponse(n)?void r(null,n.result):r(o.InvalidResponse(n))}))},c.prototype.sendBatch=function(t,r){if(!this.provider)return r(o.InvalidProvider());var e=i.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](e,(function(t,e){return t?r(t):n.isArray(e)?void r(null,e):r(o.InvalidResponse(e))}))},c.prototype.addSubscription=function(t,r,e,n){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions[t]={callback:n,type:e,name:r}},c.prototype.removeSubscription=function(t,r){this.subscriptions[t]&&(this.send({method:this.subscriptions[t].type+"_unsubscribe",params:[t]},r),delete this.subscriptions[t])},c.prototype.clearSubscriptions=function(t){var r=this;Object.keys(this.subscriptions).forEach((function(e){t&&"syncing"===r.subscriptions[e].name||r.removeSubscription(e)})),this.provider.reset&&this.provider.reset()},t.exports={Manager:c,BatchManager:s}},OdSp:function(t,r,e){"use strict";var n=e("Xy4I"),o=e("F1/f");t.exports={errors:n,formatters:o}},PCH3:function(t,r,e){"use strict";var n=e("OdSp").formatters,o=e("Ykib"),i=e("ETH1");t.exports=function(t){var r=function(r){var e;return r.property?(t[r.property]||(t[r.property]={}),e=t[r.property]):e=t,r.methods&&r.methods.forEach((function(r){r instanceof o||(r=new o(r)),r.attachToObject(e),r.setRequestManager(t._requestManager)})),t};return r.formatters=n,r.utils=i,r.Method=o,r}},SSMb:function(t,r,e){"use strict";var n=e("4lM6"),o=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};o.prototype.setRequestManager=function(t){this.requestManager=t},o.prototype.attachToObject=function(t){var r=this.buildCall(),e=this.name.split(".");e.length>1?(t[e[0]]=t[e[0]]||{},t[e[0]][e[1]]=r):t[e[0]]=r},o.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var r=new n({subscription:t.subscriptions[arguments[0]],requestManager:t.requestManager,type:t.type});return r.subscribe.apply(r,arguments)}},t.exports={subscriptions:o,subscription:n}},VWKx:function(t,r,e){"use strict";var n=e("uhBA"),o=e("m6mq"),i=function(t){var r,e,i=new o((function(){r=arguments[0],e=arguments[1]}));if(t)return{resolve:r,reject:e,eventEmitter:i};var s=new n;return i._events=s._events,i.emit=s.emit,i.on=s.on,i.once=s.once,i.off=s.off,i.listeners=s.listeners,i.addListener=s.addListener,i.removeListener=s.removeListener,i.removeAllListeners=s.removeAllListeners,{resolve:r,reject:e,eventEmitter:i}};i.resolve=function(t){var r=i(!0);return r.resolve(t),r.eventEmitter},t.exports=i},WKtK:function(t,r,e){"use strict";var n=e("Y2yK"),o=e("OdSp").errors,i=function(t){this.requestManager=t,this.requests=[]};i.prototype.add=function(t){this.requests.push(t)},i.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,(function(r,e){e=e||[],t.map((function(t,r){return e[r]||{}})).forEach((function(r,e){if(t[e].callback){if(r&&r.error)return t[e].callback(o.ErrorResponse(r));if(!n.isValidResponse(r))return t[e].callback(o.InvalidResponse(r));try{t[e].callback(null,t[e].format?t[e].format(r.result):r.result)}catch(r){t[e].callback(r)}}}))}))},t.exports=i},Xy4I:function(t,r,e){"use strict";t.exports={ErrorResponse:function(t){var r=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t);return new Error("Returned error: "+r)},InvalidNumberOfParams:function(t,r,e){return new Error('Invalid number of parameters for "'+e+'". Got '+t+" expected "+r+"!")},InvalidConnection:function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var r=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(r)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")}}},Y2yK:function(t,r,e){"use strict";var n={messageId:0,toPayload:function(t,r){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(r)+'"!');return n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:t,params:r||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(r):r(t);function r(t){return!(!t||t.error||"2.0"!==t.jsonrpc||"number"!=typeof t.id&&"string"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map((function(t){return n.toPayload(t.method,t.params)}))}};t.exports=n},Ykib:function(t,r,e){"use strict";var n=e("F/us"),o=e("OdSp").errors,i=e("OdSp").formatters,s=e("ETH1"),a=e("VWKx"),c=e("SSMb").subscriptions,u=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null};u.prototype.setRequestManager=function(t,r){this.requestManager=t,r&&(this.accounts=r)},u.prototype.createFunction=function(t,r){var e=this.buildCall();return e.call=this.call,this.setRequestManager(t||this.requestManager,r||this.accounts),e},u.prototype.attachToObject=function(t){var r=this.buildCall();r.call=this.call;var e=this.name.split(".");e.length>1?(t[e[0]]=t[e[0]]||{},t[e[0]][e[1]]=r):t[e[0]]=r},u.prototype.getCall=function(t){return n.isFunction(this.call)?this.call(t):this.call},u.prototype.extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},u.prototype.validateArgs=function(t){if(t.length!==this.params)throw o.InvalidNumberOfParams(t.length,this.params,this.name)},u.prototype.formatInput=function(t){var r=this;return this.inputFormatter?this.inputFormatter.map((function(e,n){return e?e.call(r,t[n]):t[n]})):t},u.prototype.formatOutput=function(t){var r=this;return n.isArray(t)?t.map((function(t){return r.outputFormatter&&t?r.outputFormatter(t):t})):this.outputFormatter&&t?this.outputFormatter(t):t},u.prototype.toPayload=function(t){var r=this.getCall(t),e=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var o={method:r,params:n,callback:e};return this.transformPayload&&(o=this.transformPayload(o)),o},u.prototype._confirmTransaction=function(t,r,e){var o=this,l=!1,p=!0,d=0,m=0,h=null,f="",v=n.isObject(e.params[0])&&e.params[0].gas?e.params[0].gas:null,b=n.isObject(e.params[0])&&e.params[0].data&&e.params[0].from&&!e.params[0].to,g=[new u({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:i.outputTransactionReceiptFormatter}),new u({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[i.inputAddressFormatter,i.inputDefaultBlockNumberFormatter]}),new c({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:i.outputBlockFormatter}}})],y={};n.each(g,(function(t){t.attachToObject(y),t.requestManager=o.requestManager}));var w=function(e,n,i,c,u){if(!i)return u||(u={unsubscribe:function(){clearInterval(h)}}),(e?a.resolve(e):y.getTransactionReceipt(r)).catch((function(r){u.unsubscribe(),l=!0,s._fireError({message:"Failed to check for transaction receipt:",data:r},t.eventEmitter,t.reject)})).then((function(r){if(!r||!r.blockHash)throw new Error("Receipt missing or blockHash null");return o.extraFormatters&&o.extraFormatters.receiptFormatter&&(r=o.extraFormatters.receiptFormatter(r)),t.eventEmitter.listeners("confirmation").length>0&&(void 0!==e&&0===m||t.eventEmitter.emit("confirmation",m,r),p=!1,25===++m&&(u.unsubscribe(),t.eventEmitter.removeAllListeners())),r})).then((function(r){if(b&&!l){if(!r.contractAddress)return p&&(u.unsubscribe(),l=!0),void s._fireError(new Error("The transaction receipt didn't contain a contract address."),t.eventEmitter,t.reject);y.getCode(r.contractAddress,(function(e,n){n&&(n.length>2?(t.eventEmitter.emit("receipt",r),o.extraFormatters&&o.extraFormatters.contractDeployFormatter?t.resolve(o.extraFormatters.contractDeployFormatter(r)):t.resolve(r),p&&t.eventEmitter.removeAllListeners()):s._fireError(new Error("The contract code couldn't be stored, please check your gas limit."),t.eventEmitter,t.reject),p&&u.unsubscribe(),l=!0)}))}return r})).then((function(r){b||l||(r.outOfGas||v&&v===r.gasUsed||!0!==r.status&&"0x1"!==r.status&&void 0!==r.status?(f=JSON.stringify(r,null,2),!1===r.status||"0x0"===r.status?s._fireError(new Error("Transaction has been reverted by the EVM:\n"+f),t.eventEmitter,t.reject):s._fireError(new Error("Transaction ran out of gas. Please provide more gas:\n"+f),t.eventEmitter,t.reject)):(t.eventEmitter.emit("receipt",r),t.resolve(r),p&&t.eventEmitter.removeAllListeners()),p&&u.unsubscribe(),l=!0)})).catch((function(){d++,n?d-1>=750&&(u.unsubscribe(),l=!0,s._fireError(new Error("Transaction was not mined within750 seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):d-1>=50&&(u.unsubscribe(),l=!0,s._fireError(new Error("Transaction was not mined within 50 blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))}));u.unsubscribe(),l=!0,s._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:i},t.eventEmitter,t.reject)},k=function(t){n.isFunction(this.requestManager.provider.on)?y.subscribe("newBlockHeaders",w.bind(null,t,!1)):h=setInterval(w.bind(null,t,!0),1e3)}.bind(this);y.getTransactionReceipt(r).then((function(r){r&&r.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&k(r),w(r,!1)):l||k()})).catch((function(){l||k()}))};var l=function(t,r){return n.isNumber(t)?r.wallet[t]:n.isObject(t)&&t.address&&t.privateKey?t:r.wallet[t.toLowerCase()]};u.prototype.buildCall=function(){var t=this,r="eth_sendTransaction"===t.call||"eth_sendRawTransaction"===t.call,e=function(){var e=a(!r),o=t.toPayload(Array.prototype.slice.call(arguments)),i=function(n,i){try{i=t.formatOutput(i)}catch(t){n=t}if(i instanceof Error&&(n=i),n)return n.error&&(n=n.error),s._fireError(n,e.eventEmitter,e.reject,o.callback);o.callback&&o.callback(null,i),r?(e.eventEmitter.emit("transactionHash",i),t._confirmTransaction(e,i,o)):n||e.resolve(i)},c=function(r){var e=n.extend({},o,{method:"eth_sendRawTransaction",params:[r.rawTransaction]});t.requestManager.send(e,i)},p=function(t,r){var o;if(r&&r.accounts&&r.accounts.wallet&&r.accounts.wallet.length)if("eth_sendTransaction"===t.method){var s=t.params[0];if((o=l(n.isObject(s)?s.from:null,r.accounts))&&o.privateKey)return r.accounts.signTransaction(n.omit(s,"from"),o.privateKey).then(c)}else if("eth_sign"===t.method){var a=t.params[1];if((o=l(t.params[0],r.accounts))&&o.privateKey){var u=r.accounts.sign(a,o.privateKey);return t.callback&&t.callback(null,u.signature),void e.resolve(u.signature)}}return r.requestManager.send(t,i)};if(r&&n.isObject(o.params[0])&&void 0===o.params[0].gasPrice){var d=new u({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager);d((function(r,e){e&&(o.params[0].gasPrice=e),p(o,t)}))}else p(o,t);return e.eventEmitter};return e.method=t,e.request=this.request.bind(this),e},u.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=u}}]);